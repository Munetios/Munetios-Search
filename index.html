<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Munetios</title>
    <link rel="stylesheet" href="https://api.munetios.com/beautiful-css/beautiful.css">
    <meta name="description" content="Our Search engine so you can use it privately without being tracked.">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <!-- Do favicon 16, 32-->
    <link rel="icon" sizes="16x16" href="favicon-16x16.png" type="image/x-icon">
    <link rel="icon" sizes="32x32" href="favicon-32x32.png" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://api.munetios.com 'nonce-IKDjefjewhCujHJeuji3jhekowdijzizkcej'; style-src 'self' https://fonts.googleapis.com https://api.munetios.com 'unsafe-inline'; img-src *; font-src 'self' https://fonts.gstatic.com; frame-src https://www.munetios.com; connect-src 'self'; object-src 'none'; base-uri 'self'; form-action 'self';">
<meta http-equiv="Content-Security-Policy" content="frame-ancestors 'none';">
<link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="Munetios Search">
        <meta name="google-site-verification" content="eNlW8gDjbwlEBSfYIkyc8N60d64cbCYkYydrbDoeYi8" />
    <meta name="msvalidate.01" content="BF44E33561FDFF8178BDA1E527F81862" />
     <script>
    document.addEventListener("DOMContentLoaded", function() {
      if (window.top !== window.self) {
        // Hide everything (html + body)
        document.documentElement.style.display = "none";  
        console.warn('Refused to display https://www.munetios.com because it is blocked from iframe embeding')
      }
    });
  </script>

      <script nonce="IKDjefjewhCujHJeuji3jhekowdijzizkcej">
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker
      .register('/sw.js', { scope: '/' })  // ðŸ‘ˆ Must be absolute
      .then(reg => console.log('Munetios SW active:', reg.scope))
      .catch(err => console.error('SW failed:', err));
  });
}
</script>
      <meta name="keywords" content="Munetios, search, calendar, notes, tasks, weather, calculator, tetris, docs, productivity, web apps">
    <meta name="robots" content="index, follow">
    <meta property="og:title" content="Munetios Search">
    <meta property="og:description" content="Munetios Search is a search engine that you can use privately without being tracked.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.munetios.com">
<meta name="googlebot" content="index, follow">
     <script type="application/ld+json">
        
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Munetios",
  "url": "https://munetios.com",
  "logo": "https://munetios.com/favicon-32x32.png",
  "sameAs": [
    "https://twitter.com/gameryt97529",
    "https://github.com/munetios"
  ],
  "description": "Munetios is safe. It provides apps like Calendar, Notes, Tasks, Weather, Calculator, Tetris, Docs, and more."
}
</script>

    <!-- Lexend Font link -->
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style> 
        * {
            font-family: 'Lexend', sans-serif;
        }
        body {
            margin: 0;
            padding: 0;
            background-color: #190047;
            color: #ffffff;
        }
        body.light-mode {
            background-color: #ffffff;
            color: #000000;
        }
        a {
            text-decoration: none;
            color: inherit;
        }
        .topbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            height: 60px;
            position: sticky;
            top: 0;
            z-index: 100000;
        }
        .topbar .topbar-left {
            display: flex;
            align-items: center;
            gap: 15px;
            
        }
        .top-left {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 4px 12px;
        }
        .topbar .top-right {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 2px 10px;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.2em;
            font-weight: 600;
        }
        .logo img {
            height: 30px;
        }
        .logo-text {
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        .apps-icon {
            position: relative;
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: background 0.2s, color 0.2s;
        }
        .apps-icon:hover, .apps-icon:focus {
            background: #3a1c71;
            color: #fff;
        }
        .apps-dropdown {
            display: none;
            position: absolute;
            top: 110%;
            right: 0;
            background: rgba(25, 0, 71, 0.95);
            border: 1px solid #6c2eb7;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            z-index: 200;
        }
        .apps-icon:hover .apps-dropdown, .apps-icon:focus .apps-dropdown {
            display: block;
        }
        .content {
            text-align: center;
            margin-top: 80px;

        }
        .munetios-logo {
            margin-bottom: 40px;
        }
        .search-bar {
            display: inline-flex;
            align-items: center;
            border-radius: 30px;
            padding: 10px 20px;
            width: 60%;
            max-width: 800px;
            gap: 5px;
            transition: background 0.3s, border-color 0.3s;
        }
        .search-bar input {
            width: 100%;
            border: none;
            background: transparent;
            color: inherit;
            font-size: 1em;
            outline: none;
        }
        .floating-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            border-radius: 50px;
            padding: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: background 0.3s, box-shadow 0.3s;
            z-index: 1000;
        }
        .floating-button:hover {
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
        }
        .floating-button .label-button {
            font-size: 1em;
            font-weight: 600;
        }
        .buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        .shortcuts {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
        }
        .add-shortcut-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .add-shortcut {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border: 2px dashed rgba(255, 255, 255, 0.5);
            border-radius: 16px;
            cursor: pointer;
            transition: background 0.2s, border-color 0.2s;
        }
        .add-shortcut:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.8);
        }
        .label {
            margin-top: 1px;
            font-size: 0.9em;
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
            display: block;
            width: 100%;
        }
        /* Ensure each shortcut (icon + label) is a column */
        .shortcut, .add-shortcut-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .dropdown-wrapper {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            min-width: 44px;
            min-height: 44px;
            padding: 4px 8px;
            border-radius: 8px;
            background: rgba(58, 28, 113, 0.1);
            backdrop-filter: blur(2px) saturate(180%) contrast(85%) brightness(115%);
            transition: background 0.2s;
        }
      
        .dropdown-options {
            display: none;
            position: absolute;
            background: rgba(25, 0, 71, 0.1);
            border: 1px solid #6c2eb7;
            backdrop-filter: blur(2px) saturate(180%) contrast(85%) brightness(115%);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            z-index: 200;
            min-width: 160px;
        }
        .dropdown-option {
            padding: 10px 16px;
            cursor: pointer;
            transition: background 0.2s;
        }
        .dropdown-option:hover {
            background: #3a1c71;
            color: #fff;
        }
        /* Responsive styles */
        @media (max-width: 1200px) {
            .search-bar {
                width: 80%;
            }
            .apps-dropdown iframe {
                width: 350px !important;
                height: 600px !important;
            }
        }
        @media (max-width: 900px) {
            .search-bar {
                width: 95%;
                max-width: 98vw;
            }
            .apps-dropdown iframe {
                width: 280px !important;
                height: 480px !important;
            }
         
        }
        @media (max-width: 600px) {
            
            .logo-text {
                display: none;
            }
            .topbar {
                padding: 0 10px;
            }
            .munetios-logo img {
                height: 110px !important;
                margin-top: 20px !important;
            }
            .search-bar {
                width: 99%;
                min-width: 0;
                padding: 8px 10px;
                font-size: 0.98em;
            }
            .buttons {
                flex-direction: column;
                gap: 10px;
            }
            .shortcuts {
                gap: 10px;
                margin-top: 10px;
            }
            .shortcut img, .add-shortcut svg {
                width: 28px !important;
                height: 28px !important;
            }
            .floating-button {
                right: 10px;
                bottom: 10px;
                padding: 8px;
                font-size: 0.95em;
            }
            .apps-dropdown iframe {
                width: 95vw !important;
                height: 60vh !important;
                min-width: 180px !important;
            }
            .label-button{
                display: none;
            } 
        }
        @media (max-width: 472px) {
            .munetios-logo img {
                height: 70px !important;
            }
            .search-bar {
                font-size: 0.9em;
                padding: 6px 4px;
            }
            .hide-450 {
                display: none !important;
            }
            .shortcut img, .add-shortcut svg {
                width: 22px !important;
                height: 22px !important;
            }
            .label, .label-button {
                font-size: 0.8em;
            }
        }
        @media (prefers-color-scheme: light) {
            .search-bar {
                background: rgba(255, 255, 255, 0.2);
                border: 1px solid #ccc;
            }
            .search-bar:hover {
                background: rgba(255, 255, 255, 0.3);
                border-color: #999;
            }
        }
    </style>
</head>
<body>
    <header class="topbar">
        <div class="topbar-left">
        <div class="top-left liquid-glass">
            <div class="logo">
                <a href="https://www.munetios.com">
                    <img src="favicon-32x32.png" alt="Munetios Logo" style="height:30px;">
                </a>
                <div class="logo-text">Munetios</div>
            </div>
        </div>
        <a class="liquid-glass hide-450" href="about.html" style="padding: 10px 15px;">About</a>
    </div>
    <div class="top-right liquid-glass">
        <a href="https://discord.gg/GXRK3pDfR3">Discord Server</a>
        <a href="/games/games.html">Games</a>
        <div class="apps-icon" id="apps-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-grid"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
            <div class="apps-dropdown">
                <iframe src="https://www.munetios.com/apps/" width="500" height="768" frameborder="0"></iframe>
            </div>
        </div>
    </div>
    </header>
    <div class="content">
        <div class="munetios-logo">
            <img src="Munetios-Logo.png" alt="Munetios Logo" style="height:200px; margin-top:40px;">
        </div>
        <div class="search-bar liquid-glass">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            <input type="text" placeholder="Search" id="searchInput">
                <svg id="micIcon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mic">
                    <rect x="9" y="2" width="6" height="12" rx="3"></rect>
                    <path d="M5 10v2a7 7 0 0 0 14 0v-2"></path>
                    <line x1="12" y1="22" x2="12" y2="16"></line>
                    <line x1="8" y1="22" x2="16" y2="22"></line>
                </svg>
        </div>
        <br><br><br>
        <div class="buttons">
            <button class="liquid-glass" onclick="performSearch()" style=" cursor: pointer; color: inherit; padding: 13px 16px;">Search</button>
            <button class="liquid-glass" onclick="randomizeQueries()" style=" cursor: pointer; color: inherit; padding: 13px 16px;" >I'm Feeling Good</button>
        </div>
        <br><br>
        <div class="shortcuts" id="shortcuts">
            <!-- Shortcuts will be rendered here -->
             <div class="add-shortcut" id="addshortcut">
                <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>
               
             </div> <div class="label">Add</div>
        </div>
    </div>
    <div class="floating-button liquid-glass" id="customizeBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sliders"><line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line></svg>
        <div class="label-button">Customize</div>
    </div>
    <script nonce="IKDjefjewhCujHJeuji3jhekowdijzizkcej">
        const micIcon = document.getElementById('micIcon');
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            micIcon.style.cursor = 'pointer';
            let recognizing = false;
            let recognition;
            micIcon.onclick = function () {
                if (!recognition) {
                    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                    recognition = new SpeechRecognition();
                    recognition.lang = 'en-US';
                    recognition.interimResults = false;
                    recognition.maxAlternatives = 1;
                    recognition.onresult = function (event) {
                        const transcript = event.results[0][0].transcript;
                        document.getElementById('searchInput').value = transcript;
                        performSearch();
                    };
                    recognition.onerror = function () {
                        recognizing = false;
                        micIcon.style.color = '';
                    };
                    recognition.onend = function () {
                        recognizing = false;
                        micIcon.style.color = '';
                    };
                }
                if (!recognizing) {
                    recognition.start();
                    recognizing = true;
                    micIcon.style.color = '#00e676';
                } else {
                    recognition.stop();
                    recognizing = false;
                    micIcon.style.color = '';
                }
            };
        } else {
            micIcon.style.opacity = '0.5';
            micIcon.title = 'Speech recognition not supported';
            micIcon.style.cursor = 'not-allowed';
        }
        /* --- Customize Button Modal & Logic --- */
        // Remove search bar color from settings and UI
        // Remove from applySettings
        // Remove from customize modal
        // Remove from saveSettings and getStoredSettings
        // Remove from localStorage

        // Remove search bar color logic from applySettings
        // (No code needed here, just delete the relevant lines in applySettings and modal)

        const customizeBtn = document.getElementById('customizeBtn');
        let customizeModal = null;

        const safeFonts = [
            "Arial", "Calibri", "Times New Roman", "Georgia", "Lexend", "Poppins",
            "Tahoma", "Verdana", "Comic Sans MS", "Impact", "Open Sans", "Comic Neue", "Google Sans", "Google Sans Flex"
        ];
        const googleFonts = [
            "Lexend", "Poppins", "Open Sans", "Comic Neue", "Google Sans", "Google Sans Flex"
        ];

        function getStoredSettings() {
            try {
            return JSON.parse(localStorage.getItem('munetiosSettings') || '{}');
            } catch {
            return {};
            }
        }
        function saveSettings(settings) {
            try {
            localStorage.setItem('munetiosSettings', JSON.stringify(settings));
            return true;
            } catch {
            showSaveError();
            return false;
            }
        }
        function showSaveError() {
            let msg = document.getElementById('munetiosSaveError');
            if (!msg) {
            msg = document.createElement('div');
            msg.id = 'munetiosSaveError';
            msg.style.position = 'fixed';
            msg.style.bottom = '24px';
            msg.style.left = '50%';
            msg.style.transform = 'translateX(-50%)';
            msg.style.background = '#e53935';
            msg.style.color = '#fff';
            msg.style.padding = '14px 28px';
            msg.style.borderRadius = '10px';
            msg.style.fontSize = '1em';
            msg.style.zIndex = '100000';
            msg.style.boxShadow = '0 2px 12px rgba(0,0,0,0.18)';
            msg.textContent = 'Failed to save your changes. Please turn on your saving data.';
            document.body.appendChild(msg);
            setTimeout(() => {
                if (msg) msg.remove();
            }, 5000);
            }
        }
        function applySettings() {
            const s = getStoredSettings();
            // Background
            if (s.bgType === 'color' && s.bgColor) {
            document.body.style.background = s.bgColor;
            document.body.style.backgroundImage = '';
            } else if (s.bgType === 'image' && s.bgImage) {
            document.body.style.background = '';
            document.body.style.backgroundImage = s.bgImage.startsWith('url(') ? s.bgImage : `url('${s.bgImage}')`;
            document.body.style.backgroundSize = 'cover';
            document.body.style.backgroundPosition = 'center';
            } else {
            document.body.style.background = '';
            document.body.style.backgroundImage = '';
            }
            // Text color
            if (s.textColor) document.body.style.color = s.textColor;
            // Search bar color
            if (s.searchBarColor) {
            document.querySelectorAll('.search-bar').forEach(el => {
                el.style.setProperty('background', s.searchBarColor, 'important');
            });
            }
            // Liquid glass toggle
            document.querySelectorAll('.liquid-glass').forEach(el => {
            el.style.backdropFilter = s.liquidGlass === false ? 'none' : '';
            el.style.background = s.liquidGlass === false ? 'transparent' : '';
            });
            // Shortcuts location
            const shortcuts = document.getElementById('shortcuts');
            if (shortcuts && s.shortcutsLocation) {
            shortcuts.style.position = 'absolute';
            shortcuts.style.left = '';
            shortcuts.style.right = '';
            shortcuts.style.top = '';
            shortcuts.style.bottom = '';
            shortcuts.style.margin = '';
            shortcuts.style.justifyContent = '';
            shortcuts.style.flexDirection = '';
            shortcuts.style.transform = '';
            switch (s.shortcutsLocation) {
                case 'left':
                shortcuts.style.left = '20px';
                shortcuts.style.top = '50%';
                shortcuts.style.transform = 'translateY(-50%)';
                shortcuts.style.justifyContent = 'flex-start';
                shortcuts.style.flexDirection = 'column';
                break;
                case 'right':
                shortcuts.style.right = '20px';
                shortcuts.style.top = '50%';
                shortcuts.style.transform = 'translateY(-50%)';
                shortcuts.style.justifyContent = 'flex-end';
                shortcuts.style.flexDirection = 'column';
                break;
                case 'up':
                shortcuts.style.top = '80px';
                shortcuts.style.left = '50%';
                shortcuts.style.transform = 'translateX(-50%)';
                shortcuts.style.justifyContent = 'center';
                shortcuts.style.flexDirection = 'row';
                break;
                case 'down':
                shortcuts.style.bottom = '40px';
                shortcuts.style.left = '50%';
                shortcuts.style.transform = 'translateX(-50%)';
                shortcuts.style.justifyContent = 'center';
                shortcuts.style.flexDirection = 'row';
                break;
                case 'center':
                shortcuts.style.top = '50%';
                shortcuts.style.left = '50%';
                shortcuts.style.transform = 'translate(-50%,-50%)';
                shortcuts.style.justifyContent = 'center';
                shortcuts.style.flexDirection = 'row';
                break;
                case 'updown':
                shortcuts.style.top = '80px';
                shortcuts.style.left = '50%';
                shortcuts.style.transform = 'translateX(-50%)';
                shortcuts.style.justifyContent = 'center';
                shortcuts.style.flexDirection = 'column';
                break;
                default:
                shortcuts.style.position = '';
                shortcuts.style.transform = '';
                shortcuts.style.justifyContent = '';
                shortcuts.style.flexDirection = '';
                break;
            }
            }
            // Font
            if (s.fontFamily) {
            let fontStack = s.fontFamily;
            if (!safeFonts.includes(s.fontFamily)) fontStack += ', Arial, sans-serif';
            const styleId = 'munetios-font-style';
            let style = document.getElementById(styleId);
            if (!style) {
                style = document.createElement('style');
                style.id = styleId;
                document.head.appendChild(style);
            }
            style.innerHTML = `* { font-family: '${s.fontFamily}', Arial, sans-serif !important; }`;
            // Google Fonts link
            if (googleFonts.includes(s.fontFamily)) {
                let linkId = 'munetios-google-font';
                let link = document.getElementById(linkId);
                if (!link) {
                link = document.createElement('link');
                link.id = linkId;
                link.rel = 'stylesheet';
                document.head.appendChild(link);
                }
                let fontParam = s.fontFamily.replace(/ /g, '+');
                link.href = `https://fonts.googleapis.com/css2?family=${fontParam}:wght@300;400;500;600;700&display=swap`;
            }
            }
        }
        applySettings();

        customizeBtn.onclick = function() {
            if (customizeModal) return;
            const s = getStoredSettings();
            customizeModal = document.createElement('div');
            customizeModal.style.position = 'fixed';
            customizeModal.style.top = '0';
            customizeModal.style.left = '0';
            customizeModal.style.width = '100vw';
            customizeModal.style.height = '100vh';
            customizeModal.style.background = 'rgba(0,0,0,0.4)';
            customizeModal.style.display = 'flex';
            customizeModal.style.alignItems = 'center';
            customizeModal.style.justifyContent = 'center';
            customizeModal.style.zIndex = '99999';
            customizeModal.innerHTML = `
            <div style="background:#fff; color:#222; border-radius:18px; padding:32px 28px; min-width:340px; box-shadow:0 8px 32px rgba(0,0,0,0.18); display:flex; flex-direction:column; gap:18px; align-items:center; position:relative;max-width:95vw;">
                <button id="closeCustomizeModal" style="position:absolute;top:8px;right:12px;background:none;border:none;font-size:1.5em;cursor:pointer;color:#888;">&times;</button>
                <h2 style="margin:0 0 10px 0;font-size:1.2em;">Customize Munetios</h2>
                <div style="display:flex;flex-direction:column;gap:10px;width:100%;">
                <label><b>Background:</b></label>
                <div>
                    <input type="radio" name="bgType" value="color" id="bgTypeColor" ${!s.bgType || s.bgType === 'color' ? 'checked' : ''}> <label for="bgTypeColor">Color</label>
                    <input type="radio" name="bgType" value="image" id="bgTypeImage" ${s.bgType === 'image' ? 'checked' : ''}> <label for="bgTypeImage">Image</label>
                </div>
                <input type="color" id="bgColorInput" value="${s.bgColor || '#190047'}" style="width:60px;display:${!s.bgType || s.bgType === 'color' ? 'inline-block' : 'none'};">
                <input type="file" id="bgImageInput" accept="image/*" style="display:${s.bgType === 'image' ? 'inline-block' : 'none'};">
                <button id="clearBgBtn" style="margin-top:4px;font-size:0.9em;">Clear Background</button>
                </div>
                <div style="display:flex;flex-direction:column;gap:10px;width:100%;">
                <label for="textColorInput"><b>Text Color:</b></label>
                <input type="color" id="textColorInput" value="${s.textColor || '#ffffff'}" style="width:60px;">
                </div>
                <div style="display:none;flex-direction:column;gap:10px;width:100%;">
                <label for="searchBarColorInput"><b>Search Bar Color:</b></label>
                <input type="color" id="searchBarColorInput" value="${s.searchBarColor || '#ffffff33'}" style="width:60px;">
                </div>
                <div style="display:flex;flex-direction:column;gap:10px;width:100%;">
                <label><b>Shortcuts Location:</b></label>
                <select id="shortcutsLocationInput">
                    <option value="center" ${s.shortcutsLocation === 'center' ? 'selected' : ''}>Center</option>
                    <option value="left" ${s.shortcutsLocation === 'left' ? 'selected' : ''}>Left</option>
                    <option value="right" ${s.shortcutsLocation === 'right' ? 'selected' : ''}>Right</option>
                    <option value="up" ${s.shortcutsLocation === 'up' ? 'selected' : ''}>Up</option>
                    <option value="down" ${s.shortcutsLocation === 'down' ? 'selected' : ''}>Down</option>
                    <option value="updown" ${s.shortcutsLocation === 'updown' ? 'selected' : ''}>Up and Down</option>
                </select>
                </div>
                <div style="display:flex;flex-direction:column;gap:10px;width:100%;">
                <label for="fontFamilyInput"><b>Font:</b></label>
                <select id="fontFamilyInput" style="width:100%;">
                    ${safeFonts.map(f => `<option value="${f}" ${s.fontFamily === f ? 'selected' : ''}>${f}</option>`).join('')}
                </select>
                <button id="detectFontsBtn" style="font-size:0.9em;">Detect Installed Fonts</button>
                <span id="fontPermMsg" style="font-size:0.9em;color:#666;"></span>
                </div>
                <div style="display:flex;flex-direction:row;align-items:center;gap:10px;width:100%;">
                <label for="liquidGlassToggle"><b>Liquid Glass:</b></label>
                <input type="checkbox" id="liquidGlassToggle" ${s.liquidGlass !== false ? 'checked' : ''}>
                </div>
                <button id="saveCustomizeBtn" style="padding:10px 18px; border-radius:8px; background:#3a1c71; color:#fff; border:none; font-weight:600; font-size:1em; cursor:pointer;margin-top:10px;">Save</button>
            </div>
            `;
            document.body.appendChild(customizeModal);

            // Modal logic
            function updateBgInputs() {
            const isColor = document.getElementById('bgTypeColor').checked;
            document.getElementById('bgColorInput').style.display = isColor ? 'inline-block' : 'none';
            document.getElementById('bgImageInput').style.display = !isColor ? 'inline-block' : 'none';
            }
            document.getElementById('bgTypeColor').onchange = updateBgInputs;
            document.getElementById('bgTypeImage').onchange = updateBgInputs;

            document.getElementById('clearBgBtn').onclick = function() {
            document.getElementById('bgColorInput').value = '#190047';
            document.getElementById('bgImageInput').value = '';
            };

            document.getElementById('closeCustomizeModal').onclick = function() {
            customizeModal.remove();
            customizeModal = null;
            };

            document.getElementById('saveCustomizeBtn').onclick = function() {
            const bgType = document.getElementById('bgTypeColor').checked ? 'color' : 'image';
            const bgColor = document.getElementById('bgColorInput').value;
            let bgImage = s.bgImage || '';
            const bgImageInput = document.getElementById('bgImageInput');
            if (bgType === 'image' && bgImageInput.files && bgImageInput.files[0]) {
                const file = bgImageInput.files[0];
                bgImage = '';
                const reader = new FileReader();
                reader.onload = function(e) {
                bgImage = e.target.result;
                saveAndApply();
                };
                reader.readAsDataURL(file);
                return;
            }
            function saveAndApply() {
                const settings = {
                bgType,
                bgColor: bgType === 'color' ? bgColor : undefined,
                bgImage: bgType === 'image' ? bgImage : undefined,
                textColor: document.getElementById('textColorInput').value,
                searchBarColor: document.getElementById('searchBarColorInput').value,
                shortcutsLocation: document.getElementById('shortcutsLocationInput').value,
                fontFamily: document.getElementById('fontFamilyInput').value,
                liquidGlass: document.getElementById('liquidGlassToggle').checked
                };
                if (saveSettings(settings)) {
                applySettings();
                customizeModal.remove();
                customizeModal = null;
                }
            }
            if (bgType === 'image' && bgImageInput.files && bgImageInput.files[0]) {
                // Will be handled by FileReader above
            } else {
                saveAndApply();
            }
            };

            // Font detection
            document.getElementById('detectFontsBtn').onclick = async function() {
            const fontPermMsg = document.getElementById('fontPermMsg');
            if ('fonts' in navigator && navigator.fonts.query) {
                try {
                const status = await navigator.permissions.query({ name: 'local-fonts' });
                if (status.state === 'denied') {
                    fontPermMsg.textContent = "Permission denied. Using safe fonts.";
                    return;
                }
                const fonts = await navigator.fonts.query();
                const fontNames = Array.from(fonts).map(f => f.family).filter(f => !!f);
                const uniqueFonts = Array.from(new Set([...safeFonts, ...fontNames])).sort();
                fillFonts(uniqueFonts);
                fontPermMsg.textContent = "Detected installed fonts.";
                } catch {
                fillFonts(safeFonts);
                fontPermMsg.textContent = "Font detection not supported. Using safe fonts.";
                }
            } else {
                fillFonts(safeFonts);
                fontPermMsg.textContent = "Font detection not supported. Using safe fonts.";
            }
            };
            function fillFonts(fonts) {
            const sel = document.getElementById('fontFamilyInput');
            sel.innerHTML = fonts.map(f => `<option value="${f}">${f}</option>`).join('');
            }
        };

        // Shortcuts logic with Add Shortcut Modal and Favicon
        const shortcutsContainer = document.getElementById('shortcuts');
        const addShortcutBtn = document.getElementById('addshortcut');
        let shortcuts;
        try {
            shortcuts = JSON.parse(localStorage.getItem('shortcuts')) || [
            { name: 'Munetios', url: 'https://www.munetios.com'},
            { name: 'Google', url: 'https://www.google.com'},
            { name: 'YouTube', url: 'https://www.youtube.com' },
            { name: 'Microsoft', url: 'https://www.microsoft.com' },
            { name: 'ChatGPT', url: 'https://chat.openai.com' },
            { name: 'Facebook', url: 'https://www.facebook.com' },
            { name: 'Instagram', url: 'https://www.instagram.com' },
            { name: 'ESPN', url: 'https://www.espn.com' },
            { name: 'Yahoo', url: 'https://www.yahoo.com' }
            ];
        } catch {
            shortcuts = [
            { name: 'Munetios', url: 'https://www.munetios.com'},
            { name: 'Google', url: 'https://www.google.com'},
            { name: 'YouTube', url: 'https://www.youtube.com' },
            { name: 'Microsoft', url: 'https://www.microsoft.com' },
            { name: 'ChatGPT', url: 'https://chat.openai.com' },
            { name: 'Facebook', url: 'https://www.facebook.com' },
            { name: 'Instagram', url: 'https://www.instagram.com' },
            { name: 'ESPN', url: 'https://www.espn.com' },
            { name: 'Yahoo', url: 'https://www.yahoo.com' }
            ];
        }

        function showShortcutSaveError() {
            let msg = document.getElementById('shortcutSaveError');
            if (!msg) {
            msg = document.createElement('div');
            msg.id = 'shortcutSaveError';
            msg.style.position = 'fixed';
            msg.style.bottom = '24px';
            msg.style.left = '50%';
            msg.style.transform = 'translateX(-50%)';
            msg.style.background = '#e53935';
            msg.style.color = '#fff';
            msg.style.padding = '14px 28px';
            msg.style.borderRadius = '10px';
            msg.style.fontSize = '1em';
            msg.style.zIndex = '100000';
            msg.style.boxShadow = '0 2px 12px rgba(0,0,0,0.18)';
            msg.textContent = 'Could not save your shortcuts. Please turn on your saving data.';
            document.body.appendChild(msg);
            setTimeout(() => {
                if (msg) msg.remove();
            }, 5000);
            }
        }

        function getFavicon(url) {
            try {
            const u = new URL(url);
            // Special case for Instagram
            if (u.hostname.includes('instagram.com')) {
                return 'https://static.cdninstagram.com/rsrc.php/v4/yI/r/VsNE-OHk_8a.png';
            }
            return `${u.origin}/favicon.ico`;
            } catch {
            return 'favicon-32x32.png';
            }
        }

        function renderShortcuts() {
            // Remove all except the add shortcut button
            shortcutsContainer.innerHTML = '';
            shortcuts.forEach((shortcut, idx) => {
            const wrapper = document.createElement('div');
            wrapper.className = 'shortcut';
            wrapper.style.position = 'relative';

            const a = document.createElement('a');
            a.href = shortcut.url;
            // Open in current tab, so no target or rel attributes

            const img = document.createElement('img');
            img.src = getFavicon(shortcut.url);
            img.alt = shortcut.name;
            img.style.width = '32px';
            img.style.height = '32px';
            img.style.borderRadius = '8px';
            img.onerror = function() {
                this.src = 'favicon-32x32.png';
            };

            a.appendChild(img);

            const label = document.createElement('div');
            label.className = 'label';
            label.textContent = shortcut.name;

            // Delete (X) icon
            const del = document.createElement('span');
            del.innerHTML = '&times;';
            del.title = 'Delete';
            del.style.position = 'absolute';
            del.style.top = '0px';
            del.style.right = '0px';
            del.style.cursor = 'pointer';
            del.style.color = '#fff';
            del.style.background = 'rgba(0,0,0,0.5)';
            del.style.borderRadius = '50%';
            del.style.width = '20px';
            del.style.height = '20px';
            del.style.display = 'flex';
            del.style.alignItems = 'center';
            del.style.justifyContent = 'center';
            del.style.fontSize = '16px';
            del.style.zIndex = '10';
            del.onclick = () => {
                shortcuts.splice(idx, 1);
                try {
                localStorage.setItem('shortcuts', JSON.stringify(shortcuts));
                } catch {
                showShortcutSaveError();
                }
                renderShortcuts();
            };

            wrapper.appendChild(a);
            wrapper.appendChild(label);
            wrapper.appendChild(del);

            shortcutsContainer.appendChild(wrapper);
            });

            // Add shortcut button
            const addWrapper = document.createElement('div');
            addWrapper.className = 'add-shortcut-wrapper';
            addWrapper.style.display = 'flex';
            addWrapper.style.flexDirection = 'column';
            addWrapper.style.alignItems = 'center';

            const addBtn = document.createElement('div');
            addBtn.className = 'add-shortcut';
            addBtn.id = 'addshortcut';
            addBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus-circle"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="16"></line><line x1="8" y1="12" x2="16" y2="12"></line></svg>`;
            addBtn.onclick = openAddShortcutModal;

            const addLabel = document.createElement('div');
            addLabel.className = 'label';
            addLabel.textContent = 'Add';

            addWrapper.appendChild(addBtn);
            addWrapper.appendChild(addLabel);

            shortcutsContainer.appendChild(addWrapper);
        }

        // Modal UI
        function createModal() {
            if (document.getElementById('shortcutModal')) return;
            const modal = document.createElement('div');
            modal.id = 'shortcutModal';
            modal.style.position = 'fixed';
            modal.style.top = '0';
            modal.style.left = '0';
            modal.style.width = '100vw';
            modal.style.height = '100vh';
            modal.style.background = 'rgba(0,0,0,0.4)';
            modal.style.display = 'flex';
            modal.style.alignItems = 'center';
            modal.style.justifyContent = 'center';
            modal.style.zIndex = '9999';

            modal.innerHTML = `
            <div style="background:#fff; color:#222; border-radius:16px; padding:32px 24px; min-width:320px; box-shadow:0 8px 32px rgba(0,0,0,0.18); display:flex; flex-direction:column; gap:18px; align-items:center; position:relative;">
            <button id="closeModalBtn" style="position:absolute;top:8px;right:12px;background:none;border:none;font-size:1.5em;cursor:pointer;color:#888;">&times;</button>
            <h2 style="margin:0 0 10px 0;font-size:1.2em;">Add Shortcut</h2>
            <input id="shortcutName" type="text" placeholder="Name" style="padding:8px 12px; border-radius:8px; border:1px solid #ccc; width:90%; font-size:1em;">
            <input id="shortcutUrl" type="url" placeholder="URL (https://...)" style="padding:8px 12px; border-radius:8px; border:1px solid #ccc; width:90%; font-size:1em;">
            <button id="saveShortcutBtn" style="padding:10px 18px; border-radius:8px; background:#3a1c71; color:#fff; border:none; font-weight:600; font-size:1em; cursor:pointer;">Add</button>
            </div>
            `;
            document.body.appendChild(modal);

            document.getElementById('closeModalBtn').onclick = closeAddShortcutModal;
            document.getElementById('saveShortcutBtn').onclick = function() {
            const name = document.getElementById('shortcutName').value.trim();
            let url = document.getElementById('shortcutUrl').value.trim();
            if (!name || !url) return;
            if (!/^https?:\/\//i.test(url)) url = 'https://' + url;
            shortcuts.unshift({ name, url });
            try {
                localStorage.setItem('shortcuts', JSON.stringify(shortcuts));
            } catch {
                showShortcutSaveError();
            }
            closeAddShortcutModal();
            renderShortcuts();
            };
        }

        function openAddShortcutModal() {
            createModal();
        }
        function closeAddShortcutModal() {
            const modal = document.getElementById('shortcutModal');
            if (modal) modal.remove();
        }

        // Initial render
        renderShortcuts();

        function performSearch() {
            const query = document.getElementById('searchInput').value.trim();
            if (query) {
                window.location.href = '/search/search.html?q=' + encodeURIComponent(query);
            }
        }

        function randomizeQueries() {
            const queries = [
                "What is the weather today?",
                "How to draw a cat?",
                "How to bake a cake?",
                "How to learn programming?",
                "Munetios",
                "Best programming languages in 2025",
                "How to stay healthy?"
            ];
            const randomQuery = queries[Math.floor(Math.random() * queries.length)];
            document.getElementById('searchInput').value = randomQuery;
            performSearch();
        }

        document.addEventListener('DOMContentLoaded', function() {
            // Enter key triggers search
            document.getElementById('searchInput').addEventListener('keydown', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });

            // Attach click handlers for buttons (CSP-safe)
            document.querySelectorAll('button').forEach(btn => {
                if (btn.textContent.trim() === 'Search') {
                    btn.addEventListener('click', performSearch);
                }
                if (btn.textContent.trim() === "I'm Feeling Good") {
                    btn.addEventListener('click', randomizeQueries);
                }
            });
        });
        </script>
    </body>
    </html>
          
