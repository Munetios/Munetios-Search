<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Munetios Search</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://api.munetios.com/beautiful-css/beautiful.css">
    <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'none';">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https:; img-src 'self' https: data:; script-src 'self' https: 'unsafe-inline'; style-src 'self' https: 'unsafe-inline'; font-src 'self' https: data:; connect-src 'self' https:; frame-src 'self' https:;">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --main-bg: #130036; --text-color: #fff; --card-bg: rgba(26, 0, 51, 0.7); --card-border: #25104d; --link-color: #7c4dff; --link-hover: #b388ff; }
        * {font-family: Lexend, Poppins, sans-serif;}
        body { font-family: Lexend, Poppins, sans-serif; margin: 0; background-color: var(--main-bg); color: var(--text-color); overflow-x: hidden; }
        .topbar { position: sticky; top: 0; width: 100%; padding: 10px 20px; display: flex; flex-direction: column; box-sizing: border-box; z-index: 1000; background-color: rgba(19, 0, 54, 0.5); backdrop-filter: blur(5px); }
        .topbar .top { display: flex; align-items: center; width: 100%; gap: 20px; }
        .toolbar { margin-top: 10px; width: 100%; border-bottom: 1px solid #52009e; display: flex; align-items: center; gap: 20px; }
        .tabs { display: flex; gap: 15px; padding-bottom: 8px; }
        .item { cursor: pointer; padding: 6px 14px; border-radius: 18px; transition: 0.2s; color: #ccc; user-select: none; white-space: nowrap; }
        .item.active { background-color: var(--link-color); color: white; }
        .item:hover { background-color: rgba(124, 77, 255, 0.2); color: white; }
        .logo { display: flex; align-items: center; gap: 10px; text-decoration: none;}
        .logo h1 { margin: 0; font-size: 24px; color: var(--text-color); }
        .search-bar { display: flex; align-items: center; background-color: #1a0033; border-radius: 25px; max-width: 1024px; width: 100%; padding: 5px 15px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); }
        .search-bar svg { color: #ccc; margin-right: 8px; flex-shrink: 0; }
        .search-bar input { width: 100%; border: none; background: transparent; color: var(--text-color); font-size: 16px; outline: none; padding: 10px 0; }
        .content { max-width: 1000px; margin: 10px; padding: 0 20px 40px 20px; }
        .result { margin-bottom: 28px; padding: 18px 20px 14px 20px; border-radius: 12px; background: var(--card-bg); border: 1px solid var(--card-border); transition: 0.2s; position: relative; }
        .result:hover { box-shadow: 0 4px 16px rgba(19, 0, 54, 0.18); background: rgba(26, 0, 51, 0.85); }
        .result h3 { font-size: 20px; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; font-weight: 600; margin: 0; }
        .result a { color: var(--link-color); text-decoration: none; }
        .result a:hover { color: var(--link-hover); text-decoration: underline; }
        .result p { margin: 6px 0 0 0; color: #e0e0e0; font-size: 15px; }
        .result img.thumbnail { width: 100%; border-radius: 8px; margin-top: 10px; }
        .more-btn { position: absolute; top: 10px; right: 10px; cursor: pointer; opacity: 0.8; border: none; background: transparent; color: #ddd; font-size: 24px; line-height: 1; padding: 0 5px; }
        .details-panel { position: fixed; top: 80px; right: 20px; width: 100%; max-width: 1200px; border: 1px solid #3a1a70; border-radius: 16px; padding: 16px; height: 700px; z-index: 1200; display: none; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35); backdrop-filter: blur(8px); }
        .details-header { display: flex; align-items: center; gap: 10px; }
        .details-header img { width: 20px; height: 20px; border-radius: 4px; }
        .details-title { margin: 0; font-size: 18px; }
        .details-url { font-size: 13px; color: #c6b7ff; word-break: break-all; }
        .details-actions { display: flex; gap: 8px; margin: 12px 0; }
        .btn { padding: 6px 12px; border-radius: 10px; background: #7c4dff; color: #fff; border: 0; cursor: pointer; font-weight: 600; text-decoration: none; display: inline-block; }
        .btn.secondary { background: rgba(124, 77, 255, 0.18); color: #dcd3ff; border: 1px solid rgba(124, 77, 255, 0.35); }
        .overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.5); display: none; z-index: 1199; }
        .details-close { position: absolute; top: 10px; right: 10px; background: transparent; color: #fff; border: 0; font-size: 20px; cursor: pointer; }
        .pagination { display: flex; align-items: center; justify-content: center; gap: 12px; margin-top: 16px; flex-wrap: wrap; }
        .top-right { display: flex; align-items: center; gap: 15px; margin-left: auto; color: #fff; }
        .top-right .icon { cursor: pointer; transition: opacity 0.2s; }
        .top-right .icon:hover { opacity: 0.8; }
        select#countryselect { background: #1a0033; border: 1px solid #7c4dff; color: #fff; padding: 6px 14px; border-radius: 18px; font-size: 15px; cursor: pointer; outline: none; }
        .loader { width: 48px; height: 48px; border: 5px solid #FFF; border-bottom-color: var(--link-color); border-radius: 50%; display: block; margin: 40px auto; box-sizing: border-box; animation: rotation 1s linear infinite; }
        .modal { display: none; position: fixed; z-index: 2000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4); }
        .app-launcher {
            display: none;
            position: absolute;
            top: 48px;
            right: 0;
            width: 500px;
            max-width: 90vw;
            background: rgba(26, 0, 51, 0.97);
            border: 1px solid #3a1a70;
            border-radius: 14px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.25);
            z-index: 1500;
            padding: 0;
            overflow: hidden;
            transition: opacity 0.2s;
        }
        .app-launcher iframe {
            width: 100%;
            height: 800px;
            border: none;
            border-radius: 0 0 14px 14px;
            background: transparent;
            display: block;
        }
        .apps-icon {
            position: relative;
        }
        .apps-icon.active + .app-launcher {
            display: block;
        }
        @media (max-width: 600px) {
            .app-launcher {
                width: 98vw;
                left: 1vw;
                right: 1vw;
                top: 48px;
                max-width: 98vw;
                border-radius: 10px;
            }
            .app-launcher iframe {
                height: 60vw;
                min-height: 220px;
            }
        }
        .modal-content {
            background: rgba(26, 0, 51, 0.85);
            margin: 80px auto;
            padding: 24px 28px;
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.25);
            width: 80%;
            max-width: 640px;
            border: 1px solid #3a1a70;
            backdrop-filter: blur(5px) saturate(1.2);
        }
        @keyframes rotation { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @media (max-width: 900px) {
           .logo-text  { 
            display: none; 
            }

      }
        @media (max-width: 700px) { #countryselect { display: none; } .hide-700 { display: none; } }
        @media (max-width: 768px) { .details-panel { top: 50%; left: 50%; transform: translate(-50%, -50%); right: auto; width: min(92vw, 560px); } }
        @media (max-width: 370px) { .hide-370 { display: none; } }
    </style>
</head>
<body>
    <div class="topbar">
        <div class="top">
            <a href="/" class="logo">
                <img src="favicon-32x32.png" alt="Munetios Logo" style="height:32px;width:32px;">
                <h1 class="logo-text" style="white-space: nowrap;">Munetios (Beta search)</h1>
            </a>
            <div class="search-bar">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                <input type="text" id="searchInput" placeholder="Search">
            </div>
            <div class="top-right">
                <select name="country" style="display: none;" id="countryselect" title="Select a country">
                    <option value="" selected>All Countries</option>
                    <option value="us">United States</option><option value="gb">United Kingdom</option><option value="ca">Canada</option><option value="au">Australia</option><option value="in">India</option><option value="de">Germany</option><option value="fr">France</option><option value="jp">Japan</option><option value="cn">China</option><option value="br">Brazil</option><option value="ru">Russia</option><option value="es">Spain</option><option value="it">Italy</option><option value="nl">Netherlands</option>
                </select>
                <!-- Settings Icon now -->
                <div class="icon settings-icon" title="Settings">
                  <svg height="28" width="28" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.438.995s.145.755.438.995l1.003.827c.48.398.668 1.03.26 1.431l-1.296 2.247a1.125 1.125 0 01-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 01-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 01-.22-.127c-.324-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 01-1.37-.49l-1.296-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.437-.995s-.145-.755-.437-.995l-1.004-.827a1.125 1.125 0 01-.26-1.431l1.296-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.076-.124.072-.044.146-.087.22-.128.332-.183.582-.495.644-.869l.214-1.281z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>

                </div>
                <div class="icon help-icon" title="Help">
                    <svg width="28" height="28" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"></path></svg>
                </div>
                 <div class="icon apps-icon hide-700" title="Apps">
                    <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="currentColor">
                        <circle cx="4" cy="4" r="1.5"/><circle cx="12" cy="4" r="1.5"/><circle cx="20" cy="4" r="1.5"/>
                        <circle cx="4" cy="12" r="1.5"/><circle cx="12" cy="12" r="1.5"/><circle cx="20" cy="12" r="1.5"/>
                        <circle cx="4" cy="20" r="1.5"/><circle cx="12" cy="20" r="1.5"/><circle cx="20" cy="20" r="1.5"/>
                    </svg>
                </div>
                <div class="app-launcher">
                    <iframe src="https://www.munetios.com/apps" height="100vh" width="500" frameborder="0"></iframe>
                </div>
            </div>
        </div>
        <div class="toolbar">
            <div class="tabs">
                <div class="item active" data-type="all">All</div>
                <div class="item" data-type="images">Images</div>
                <div class="item" data-type="videos">Videos (Broken)</div>
                <div class="item hide-370" data-type="web">Web</div>
            </div>
        </div>
    </div>

    <div class="content">
        <!-- ads here -->
        <div class="ad-result" style="display: none;">
            <div class="ad-content" id="adContent"></div>
            </div>
            <br>
        <div id="results">Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.</div>
        <div class="pagination" style="display: none;">
            <button class="btn secondary" id="prevBtn" disabled>Prev</button>
            <span class="counter"><span id="current-page">1</span> of <span id="total-pages">1</span></span>
            <button class="btn secondary" id="nextBtn" disabled>Next</button>
        </div>
    </div>

    <div class="overlay" id="overlay"></div>
    <div class="details-panel liquid-glass transparency-md" id="detailsPanel">
        <button class="details-close" id="detailsClose" aria-label="Close">&times;</button>
        <div class="details-header">
            <img id="dpFavicon" src="favicon-16x16.png" alt="icon">
            <div>
                <h3 class="details-title" id="dpTitle">Title</h3>
                <div class="details-url" id="dpUrl"></div>
            </div>
            <p>Reporting the result will not remove the website it will only remove it from the search results if it violates our policies.</p>
        </div>
        <div class="details-actions">
            <a class="btn" id="dpVisit" rel="noopener noreferrer">Visit</a>
            <a class="btn secondary" id="dpReport" rel="noopener noreferrer">Report</a>
        </div>
        <div class="details-desc" id="dpDesc"></div>
    </div>
    <div class="modal" id="helpModal">
        <div class="modal-content">
            <h2 style="margin-top:0;">Help</h2>
            <div style="display:flex;flex-direction:column;gap:16px;min-width:220px;">
                <p>
                    <strong>How to use Munetios Search:</strong><br>
                    <ul style="margin:8px 0 0 18px;padding:0;">
                        <li>Type your query in the search bar and press <kbd>Enter</kbd>.</li>
                        <li>Switch between <b>All</b>, <b>Images</b>, <b>Videos</b>, or <b>Web</b> tabs for different result types.</li>
                        <li>Use the country selector to filter results by country (on desktop).</li>
                        <li>Click <b>⋮</b> on a result for more details, to visit, or to report it.</li>
                        <li>Use <b>Prev</b>/<b>Next</b> to navigate pages.</li>
                    </ul>
                </p>
                <p>
                    <strong>Tips:</strong><br>
                    <ul style="margin:8px 0 0 18px;padding:0;">
                        <li>Enable or disable ads and dark mode in <b>Settings</b>.</li>
                        <li>Change language in <b>Settings</b> for localized UI.</li>
                        <li>Some features (like video search) may be limited in beta.</li>
                    </ul>
                </p>
                <p>
                    <strong>Need more help?</strong><br>
                    Contact: <a href="https://mail.google.com/mail/?view=cm&fs=1&to=minecraftgamer97529@gmail.com&su=Munetios%20Search%20Help%20Request" style="color:var(--link-color);" target="_blank" rel="noopener">minecraftgamer97529@gmail.com</a>
                    <button class="btn" onclick="window.location.href='https://mail.google.com/mail/?view=cm&fs=1&to=minecraftgamer97529@gmail.com&su=Request%20a%20result%20for%20Munetios%20Search'">Request a result</button>
                    <button class="btn" onclick="window.location.href='https://mail.google.com/mail/?view=cm&fs=1&to=minecraftgamer97529@gmail.com&su=Request%20an%20ad%20for%20Munetios%20Search'">Request an ad</button>
                </p>
            </div>
        </div>
        <script>
        (function() {
            const helpModal = document.getElementById('helpModal');
            const helpIcon = document.querySelector('.help-icon');
            function openHelp() {
                helpModal.style.display = 'block';
                document.body.style.overflow = 'hidden';
            }
            function closeHelp(e) {
                if (e.target === helpModal) {
                    helpModal.style.display = 'none';
                    document.body.style.overflow = '';
                }
            }
            helpIcon.addEventListener('click', openHelp);
            helpModal.addEventListener('click', closeHelp);
            // Optional: close on Escape
            window.addEventListener('keydown', function(e) {
                if (helpModal.style.display === 'block' && e.key === 'Escape') {
                    helpModal.style.display = 'none';
                    document.body.style.overflow = '';
                }
            });
        })();
        </script>
    </div>
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <h2 style="margin-top:0;">Settings</h2>
            <div style="display:flex;flex-direction:column;gap:18px;min-width:220px;">
                <label style="display:flex;align-items:center;gap:10px;">
                    <input type="checkbox" id="adsToggle" checked>
                    Show Ads
                </label>
                <p>Note: Adblockers may break the show ads</p>
                <label style="display:flex;align-items:center;gap:10px;">
                    <input type="checkbox" id="darkModeToggle">
                    Dark Mode
                </label>
                <label style="display:flex;flex-direction:column;gap:4px;">
                    Language
                    <select id="languageSelect" style="margin-top:4px;">
                        <option value="en">English</option>
                        <option value="es">Español</option>
                        <option value="fr">Français</option>
                        <option value="de">Deutsch</option>
                        <option value="zh">中文</option>
                        <option value="ja">日本語</option>
                        <option value="ru">Русский</option>
                        <option value="ar">العربية</option>
                        <option value="hi">हिन्दी</option>
                    </select>
                </label>
            </div>
            <script>
            (function() {
                // Modal open/close logic
                const settingsModal = document.getElementById('settingsModal');
                const settingsIcon = document.querySelector('.settings-icon');
                function openSettings() {
                    settingsModal.style.display = 'block';
                    settingsModal.style.position = 'fixed';
                    settingsModal.style.inset = '0';
                    settingsModal.style.background = 'rgba(0,0,0,0.4)';
                    settingsModal.style.zIndex = 2000;
                    settingsModal.querySelector('.modal-content').style.background = '#1a0033';
                    settingsModal.querySelector('.modal-content').style.borderRadius = '12px';
                    settingsModal.querySelector('.modal-content').style.padding = '24px 28px';
                    settingsModal.querySelector('.modal-content').style.margin = '80px auto';
                    settingsModal.querySelector('.modal-content').style.maxWidth = '340px';
                    settingsModal.querySelector('.modal-content').style.boxShadow = '0 8px 32px rgba(0,0,0,0.25)';
                    document.body.style.overflow = 'hidden';
                }
                function closeSettings(e) {
                    if (e.target === settingsModal) {
                        settingsModal.style.display = 'none';
                        document.body.style.overflow = '';
                    }
                }
                settingsIcon.addEventListener('click', openSettings);
                settingsModal.addEventListener('click', closeSettings);
                // App launcher open/close flogic
                const appsIcon = document.querySelector('.apps-icon');
                const appLauncher = document.querySelector('.app-launcher');
                let appLauncherOpen = false;

                function openAppLauncher(e) {
                    e.stopPropagation();
                    appsIcon.classList.add('active');
                    appLauncher.style.display = 'block';
                    appLauncherOpen = true;
                }
                function closeAppLauncher() {
                    appsIcon.classList.remove('active');
                    appLauncher.style.display = 'none';
                    appLauncherOpen = false;
                }
                appsIcon.addEventListener('click', function(e) {
                    if (appLauncherOpen) {
                        closeAppLauncher();
                    } else {
                        openAppLauncher(e);
                    }
                });
                // Close when clicking outside
                document.addEventListener('click', function(e) {
                    if (appLauncherOpen && !appLauncher.contains(e.target) && !appsIcon.contains(e.target)) {
                        closeAppLauncher();
                    }
                });
                // Optional: close on Escape
                window.addEventListener('keydown', function(e) {
                    if (appLauncherOpen && e.key === 'Escape') {
                        closeAppLauncher();
                    }
                });
                // UI translations
                const translations = {
                    en: {
                        'Munetios (Beta search)': 'Munetios (Beta search)',
                        'Search': 'Search',
                        'All': 'All',
                        'Images': 'Images',
                        'Videos (Broken)': 'Videos (Broken)',
                        'Web': 'Web',
                        'Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.': 'Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.',
                        'Prev': 'Prev',
                        'Next': 'Next',
                        'Settings': 'Settings',
                        'Help': 'Help',
                        'Apps': 'Apps',
                        'All Countries': 'All Countries',
                        'Show Ads': 'Show Ads',
                        'Dark Mode': 'Dark Mode',
                        'Language': 'Language',
                        'SettingsTitle': 'Settings',
                        'Please enter a search term.': 'Please enter a search term.',
                        'No results found for your query.': 'No results found for your query.',
                        'Search failed. Please try again.': 'Search failed. Please try again.',
                        'Visit': 'Visit',
                        'Report': 'Report',
                        'No description available.': 'No description available.',
                        'Untitled': 'Untitled'
                    },
                    es: {
                        'Munetios (Beta search)': 'Munetios (Búsqueda Beta)',
                        'Search': 'Buscar',
                        'All': 'Todo',
                        'Images': 'Imágenes',
                        'Videos (Broken)': 'Videos (Roto)',
                        'Web': 'Web',
                        'Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.': 'Introduce una consulta para empezar a buscar. Nota: Los videos están rotos por limitaciones de la API de YouTube. Es beta, puede haber menos resultados y tardar más en cargar.',
                        'Prev': 'Anterior',
                        'Next': 'Siguiente',
                        'Settings': 'Configuración',
                        'Help': 'Ayuda',
                        'Apps': 'Aplicaciones',
                        'All Countries': 'Todos los países',
                        'Show Ads': 'Mostrar anuncios',
                        'Dark Mode': 'Modo oscuro',
                        'Language': 'Idioma',
                        'SettingsTitle': 'Configuración',
                        'Please enter a search term.': 'Por favor, introduce un término de búsqueda.',
                        'No results found for your query.': 'No se encontraron resultados para tu consulta.',
                        'Search failed. Please try again.': 'La búsqueda falló. Inténtalo de nuevo.',
                        'Visit': 'Visitar',
                        'Report': 'Reportar',
                        'No description available.': 'No hay descripción disponible.',
                        'Untitled': 'Sin título'
                    },
                    fr: {
                        'Munetios (Beta search)': 'Munetios (Recherche Bêta)',
                        'Search': 'Rechercher',
                        'All': 'Tout',
                        'Images': 'Images',
                        'Videos (Broken)': 'Vidéos (Cassé)',
                        'Web': 'Web',
                        'Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.': 'Entrez une requête pour commencer la recherche. Remarque : Les vidéos sont actuellement cassées en raison des limitations de l\'API YouTube. C\'est une version bêta, il peut y avoir moins de résultats et cela peut prendre plus de temps.',
                        'Prev': 'Précédent',
                        'Next': 'Suivant',
                        'Settings': 'Paramètres',
                        'Help': 'Aide',
                        'Apps': 'Applications',
                        'All Countries': 'Tous les pays',
                        'Show Ads': 'Afficher les pubs',
                        'Dark Mode': 'Mode sombre',
                        'Language': 'Langue',
                        'SettingsTitle': 'Paramètres',
                        'Please enter a search term.': 'Veuillez entrer un terme de recherche.',
                        'No results found for your query.': 'Aucun résultat trouvé pour votre requête.',
                        'Search failed. Please try again.': 'La recherche a échoué. Veuillez réessayer.',
                        'Visit': 'Visiter',
                        'Report': 'Signaler',
                        'No description available.': 'Aucune description disponible.',
                        'Untitled': 'Sans titre'
                    },
                    // Add more languages as needed
                    de: {
                        'Munetios (Beta search)': 'Munetios (Beta-Suche)',
                        'Search': 'Suchen',
                        'All': 'Alle',
                        'Images': 'Bilder',
                        'Videos (Broken)': 'Videos (Defekt)',
                        'Web': 'Web',
                        'Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.': 'Geben Sie eine Anfrage ein, um die Suche zu starten. Hinweis: Videos sind derzeit aufgrund von YouTube-API-Beschränkungen defekt. Es ist Beta, daher gibt es möglicherweise weniger Ergebnisse und es kann länger dauern.',
                        'Prev': 'Zurück',
                        'Next': 'Weiter',
                        'Settings': 'Einstellungen',
                        'Help': 'Hilfe',
                        'Apps': 'Apps',
                        'All Countries': 'Alle Länder',
                        'Show Ads': 'Werbung anzeigen',
                        'Dark Mode': 'Dunkler Modus',
                        'Language': 'Sprache',
                        'SettingsTitle': 'Einstellungen',
                        'Please enter a search term.': 'Bitte geben Sie einen Suchbegriff ein.',
                        'No results found for your query.': 'Keine Ergebnisse für Ihre Anfrage gefunden.',
                        'Search failed. Please try again.': 'Suche fehlgeschlagen. Bitte versuchen Sie es erneut.',
                        'Visit': 'Besuchen',
                        'Report': 'Melden',
                        'No description available.': 'Keine Beschreibung verfügbar.',
                        'Untitled': 'Ohne Titel'
                    },
                    zh: {
                        'Munetios (Beta search)': 'Munetios（测试版搜索）',
                        'Search': '搜索',
                        'All': '全部',
                        'Images': '图片',
                        'Videos (Broken)': '视频（不可用）',
                        'Web': '网页',
                        'Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.': '输入查询以开始搜索。注意：由于YouTube API限制，视频目前不可用。测试版可能结果较少且加载较慢。',
                        'Prev': '上一页',
                        'Next': '下一页',
                        'Settings': '设置',
                        'Help': '帮助',
                        'Apps': '应用',
                        'All Countries': '所有国家',
                        'Show Ads': '显示广告',
                        'Dark Mode': '深色模式',
                        'Language': '语言',
                        'SettingsTitle': '设置',
                        'Please enter a search term.': '请输入搜索词。',
                        'No results found for your query.': '未找到相关结果。',
                        'Search failed. Please try again.': '搜索失败，请重试。',
                        'Visit': '访问',
                        'Report': '举报',
                        'No description available.': '暂无描述。',
                        'Untitled': '无标题'
                    },
                    ja: {
                        'Munetios (Beta search)': 'Munetios（ベータ検索）',
                        'Search': '検索',
                        'All': 'すべて',
                        'Images': '画像',
                        'Videos (Broken)': '動画（利用不可）',
                        'Web': 'ウェブ',
                        'Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.': '検索を開始するにはクエリを入力してください。注：YouTube APIの制限により動画は現在利用できません。ベータ版のため結果が少なく、読み込みに時間がかかる場合があります。',
                        'Prev': '前へ',
                        'Next': '次へ',
                        'Settings': '設定',
                        'Help': 'ヘルプ',
                        'Apps': 'アプリ',
                        'All Countries': 'すべての国',
                        'Show Ads': '広告を表示',
                        'Dark Mode': 'ダークモード',
                        'Language': '言語',
                        'SettingsTitle': '設定',
                        'Please enter a search term.': '検索語を入力してください。',
                        'No results found for your query.': '検索結果が見つかりませんでした。',
                        'Search failed. Please try again.': '検索に失敗しました。もう一度お試しください。',
                        'Visit': '訪問',
                        'Report': '報告',
                        'No description available.': '説明はありません。',
                        'Untitled': '無題'
                    },
                    ru: {
                        'Munetios (Beta search)': 'Munetios (Бета-поиск)',
                        'Search': 'Поиск',
                        'All': 'Все',
                        'Images': 'Изображения',
                        'Videos (Broken)': 'Видео (не работает)',
                        'Web': 'Веб',
                        'Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.': 'Введите запрос для начала поиска. Видео сейчас не работают из-за ограничений YouTube API. Это бета, поэтому результатов может быть меньше и поиск может занять больше времени.',
                        'Prev': 'Назад',
                        'Next': 'Вперёд',
                        'Settings': 'Настройки',
                        'Help': 'Помощь',
                        'Apps': 'Приложения',
                        'All Countries': 'Все страны',
                        'Show Ads': 'Показывать рекламу',
                        'Dark Mode': 'Тёмный режим',
                        'Language': 'Язык',
                        'SettingsTitle': 'Настройки',
                        'Please enter a search term.': 'Пожалуйста, введите поисковый запрос.',
                        'No results found for your query.': 'По вашему запросу ничего не найдено.',
                        'Search failed. Please try again.': 'Ошибка поиска. Пожалуйста, попробуйте ещё раз.',
                        'Visit': 'Перейти',
                        'Report': 'Пожаловаться',
                        'No description available.': 'Описание отсутствует.',
                        'Untitled': 'Без названия'
                    },
                    ar: {
                        'Munetios (Beta search)': 'مونيتيوس (بحث تجريبي)',
                        'Search': 'بحث',
                        'All': 'الكل',
                        'Images': 'صور',
                        'Videos (Broken)': 'فيديوهات (معطلة)',
                        'Web': 'الويب',
                        'Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.': 'أدخل استعلامًا لبدء البحث. ملاحظة: الفيديوهات معطلة حاليًا بسبب قيود YouTube API. النسخة تجريبية وقد تظهر نتائج أقل وقد يستغرق التحميل وقتًا أطول.',
                        'Prev': 'السابق',
                        'Next': 'التالي',
                        'Settings': 'الإعدادات',
                        'Help': 'مساعدة',
                        'Apps': 'تطبيقات',
                        'All Countries': 'كل الدول',
                        'Show Ads': 'عرض الإعلانات',
                        'Dark Mode': 'الوضع الداكن',
                        'Language': 'اللغة',
                        'SettingsTitle': 'الإعدادات',
                        'Please enter a search term.': 'يرجى إدخال كلمة بحث.',
                        'No results found for your query.': 'لم يتم العثور على نتائج لبحثك.',
                        'Search failed. Please try again.': 'فشل البحث. يرجى المحاولة مرة أخرى.',
                        'Visit': 'زيارة',
                        'Report': 'إبلاغ',
                        'No description available.': 'لا يوجد وصف.',
                        'Untitled': 'بدون عنوان'
                    },
                    hi: {
                        'Munetios (Beta search)': 'Munetios (बीटा खोज)',
                        'Search': 'खोजें',
                        'All': 'सभी',
                        'Images': 'चित्र',
                        'Videos (Broken)': 'वीडियो (काम नहीं कर रहे)',
                        'Web': 'वेब',
                        'Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.': 'खोज शुरू करने के लिए क्वेरी दर्ज करें। नोट: YouTube API सीमाओं के कारण वीडियो वर्तमान में काम नहीं कर रहे हैं। यह बीटा है, इसलिए कम परिणाम मिल सकते हैं और लोड होने में अधिक समय लग सकता है।',
                        'Prev': 'पिछला',
                        'Next': 'अगला',
                        'Settings': 'सेटिंग्स',
                        'Help': 'सहायता',
                        'Apps': 'ऐप्स',
                        'All Countries': 'सभी देश',
                        'Show Ads': 'विज्ञापन दिखाएँ',
                        'Dark Mode': 'डार्क मोड',
                        'Language': 'भाषा',
                        'SettingsTitle': 'सेटिंग्स',
                        'Please enter a search term.': 'कृपया खोज शब्द दर्ज करें।',
                        'No results found for your query.': 'आपकी क्वेरी के लिए कोई परिणाम नहीं मिला।',
                        'Search failed. Please try again.': 'खोज विफल रही। कृपया पुनः प्रयास करें।',
                        'Visit': 'देखें',
                        'Report': 'रिपोर्ट करें',
                        'No description available.': 'कोई विवरण उपलब्ध नहीं है।',
                        'Untitled': 'शीर्षकहीन'
                    }
                };

                function t(key) {
                    const lang = localStorage.getItem('lang') || navigator.language.slice(0,2) || 'en';
                    return (translations[lang] && translations[lang][key]) || translations['en'][key] || key;
                }

                // Translate static UI
                function translateUI() {
                    // Logo text
                    const logoText = document.querySelector('.logo-text');
                    if (logoText) logoText.textContent = t('Munetios (Beta search)');

                    // Search input
                    const searchInput = document.getElementById('searchInput');
                    if (searchInput) searchInput.placeholder = t('Search');

                    // Tabs
                    const tabMap = {
                        all: 'All',
                        images: 'Images',
                        videos: 'Videos (Broken)',
                        web: 'Web'
                    };
                    document.querySelectorAll('.tabs .item').forEach(tab => {
                        const type = tab.dataset.type;
                        if (tabMap[type]) tab.textContent = t(tabMap[type]);
                    });

                    // Top-right icons
                    document.querySelector('.settings-icon').title = t('Settings');
                    document.querySelector('.help-icon').title = t('Help');
                    const appsIcon = document.querySelector('.apps-icon');
                    if (appsIcon) appsIcon.title = t('Apps');

                    // Country select
                    const countrySelect = document.getElementById('countryselect');
                    if (countrySelect) {
                        countrySelect.options[0].textContent = t('All Countries');
                    }

                    // Settings modal
                    const settingsModal = document.getElementById('settingsModal');
                    if (settingsModal) {
                        const h2 = settingsModal.querySelector('h2');
                        if (h2) h2.textContent = t('SettingsTitle');
                        const labels = settingsModal.querySelectorAll('label');
                        if (labels[0]) labels[0].lastChild.textContent = ' ' + t('Show Ads');
                        if (labels[1]) labels[1].lastChild.textContent = ' ' + t('Dark Mode');
                        if (labels[2]) labels[2].childNodes[0].textContent = t('Language');
                    }

                    // Pagination
                    const prevBtn = document.getElementById('prevBtn');
                    const nextBtn = document.getElementById('nextBtn');
                    if (prevBtn) prevBtn.textContent = t('Prev');
                    if (nextBtn) nextBtn.textContent = t('Next');
                }

                // Translate dynamic UI (results, errors, etc.)
                window.translateDynamicUI = function() {
                    // Results placeholder
                    const resultsDiv = document.getElementById('results');
                    if (resultsDiv && resultsDiv.textContent.trim().startsWith('Enter a query')) {
                        resultsDiv.textContent = t('Enter a query to start searching. Note: Videos are currently broken due to YouTube API limitations. Note its beta so may only do fewer results and may take longer to load.');
                    }
                };

                // Ads toggle
                const adsToggle = document.getElementById('adsToggle');
                function setAdsVisibility(show) {
                    document.body.classList.toggle('hide-ads', !show);
                    localStorage.setItem('showAds', show ? '1' : '0');
                    // Example: hide elements with class 'ad-result'
                    document.querySelectorAll('.ad-result').forEach(el => {
                        el.style.display = show ? '' : 'none';
                    });
                }
                adsToggle.checked = localStorage.getItem('showAds') !== '0';
                adsToggle.addEventListener('change', () => setAdsVisibility(adsToggle.checked));
                setAdsVisibility(adsToggle.checked);

        // Dark mode toggle
        const darkModeToggle = document.getElementById('darkModeToggle');

        function getSystemTheme() {
            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }
        function applyLightTheme() {
            document.documentElement.style.setProperty('--main-bg', '#f7f7fa');
            document.documentElement.style.setProperty('--text-color', '#18123a');
            document.documentElement.style.setProperty('--card-bg', 'rgba(255,255,255,0.92)');
            document.documentElement.style.setProperty('--card-border', '#e0d7ff');
            document.documentElement.style.setProperty('--link-color', '#5a2dbe');
            document.documentElement.style.setProperty('--link-hover', '#7c4dff');
            document.body.classList.add('light');
            document.body.classList.remove('dark');
            // Light mode for modals
            const modalContent = document.querySelectorAll('.modal-content');
            modalContent.forEach(mc => {
                mc.style.background = '#fff';
                mc.style.color = '#18123a';
                mc.style.border = '1px solid #e0d7ff';
                mc.style.boxShadow = '0 8px 32px rgba(90,45,190,0.08)';
            });
        }
        function applyDarkTheme() {
            document.documentElement.style.setProperty('--main-bg', '#130036');
            document.documentElement.style.setProperty('--text-color', '#fff');
            document.documentElement.style.setProperty('--card-bg', 'rgba(26, 0, 51, 0.7)');
            document.documentElement.style.setProperty('--card-border', '#25104d');
            document.documentElement.style.setProperty('--link-color', '#7c4dff');
            document.documentElement.style.setProperty('--link-hover', '#b388ff');
            document.body.classList.add('dark');
            document.body.classList.remove('light');
            // Dark mode for modals
            const modalContent = document.querySelectorAll('.modal-content');
            modalContent.forEach(mc => {
                mc.style.background = 'rgba(26, 0, 51, 0.85)';
                mc.style.color = '#fff';
                mc.style.border = '1px solid #3a1a70';
                mc.style.boxShadow = '0 8px 32px rgba(0,0,0,0.25)';
            });
        }
        function applyTheme(theme) {
            if (theme === 'dark') {
                applyDarkTheme();
            } else {
                applyLightTheme();
            }
        }
        function updateDarkModeToggle() {
            const saved = localStorage.getItem('theme');
            if (saved) {
                darkModeToggle.checked = saved === 'dark';
                applyTheme(saved);
            } else {
                const sys = getSystemTheme();
                darkModeToggle.checked = sys === 'dark';
                applyTheme(sys);
            }
        }
        darkModeToggle.addEventListener('change', () => {
            const theme = darkModeToggle.checked ? 'dark' : 'light';
            localStorage.setItem('theme', theme);
            applyTheme(theme);
        });
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
            if (!localStorage.getItem('theme')) {
                applyTheme(e.matches ? 'dark' : 'light');
                darkModeToggle.checked = e.matches;
            }
        });
        updateDarkModeToggle();
              
                // Language select
                const languageSelect = document.getElementById('languageSelect');
                const savedLang = localStorage.getItem('lang') || navigator.language.slice(0,2) || 'en';
                languageSelect.value = savedLang;
                languageSelect.addEventListener('change', () => {
                    localStorage.setItem('lang', languageSelect.value);
                    translateUI();
                    window.translateDynamicUI();
                });

                // Initial translation
                translateUI();
                window.translateDynamicUI();

                // Expose translation function for other scripts
                window.t = t;
            })();
            </script>
        </div>
    </div>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const searchInput = document.getElementById('searchInput');
    const resultsDiv = document.getElementById('results');
    const paginationDiv = document.querySelector('.pagination');
    const currentPageEl = document.getElementById('current-page');
    const totalPagesEl = document.getElementById('total-pages');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const countrySelect = document.getElementById('countryselect');
    const tabs = document.querySelectorAll('.tabs .item');
    const detailsPanel = document.getElementById('detailsPanel');
    const overlay = document.getElementById('overlay');
    const dpClose = document.getElementById('detailsClose');
    let currentType = 'all';
    let currentPage = 1;
    let totalPages = 1;
    const limit = 20;

    const params = new URLSearchParams(window.location.search);
    const initialQuery = params.get('q') || '';
    const initialPage = parseInt(params.get('page') || '1', 10);
    const initialCountry = params.get('country') || '';

    if (initialQuery) {
        searchInput.value = initialQuery;
        currentPage = initialPage;
        countrySelect.value = initialCountry;
        document.title = `${initialQuery} - Munetios Search`;
        performSearch(initialQuery, currentType, currentPage, initialCountry);
    }
    
    function updateURL() {
        const url = new URL(window.location);
        const query = searchInput.value.trim();
        url.searchParams.set('q', query);
        url.searchParams.set('page', currentPage);
        url.searchParams.set('country', countrySelect.value);
        window.history.pushState({}, '', url);
    }

   async function performSearch(query, type, page, country) {
    if (!query) {
        resultsDiv.textContent = 'Please enter a search term.';
        paginationDiv.style.display = 'none';
        showAdIfNeeded(query);
        return;
    }

    resultsDiv.innerHTML = '<div class="loader"></div>';
    paginationDiv.style.display = 'none';
    showAdIfNeeded(query);

    try {
        // 🟣 Use local frontend dataset (no server.js needed)
        const data = await MunetiosSearch.search(query, { limit, page, type, country });

        // emulate async feel (optional small delay)
        await new Promise(r => setTimeout(r, 100));

        totalPages = data.totalPages;
        currentPage = data.page;

        renderResults(data.results || [], type);
        updatePagination(data);
        showAdIfNeeded(query);
    } catch (err) {
        console.error("Search failed:", err);
        resultsDiv.innerHTML = `<p style="text-align:center;color:#ff8a8a;">Search failed. Please try again.</p>`;
        showAdIfNeeded(query);
    }
}

    function handleSearchTrigger() {
        currentPage = 1;
        const query = searchInput.value.trim();
        const country = countrySelect.value;
        updateURL();
        performSearch(query, currentType, currentPage, country);
    }

    searchInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') handleSearchTrigger(); });
    countrySelect.addEventListener('change', handleSearchTrigger);

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            tab.classList.add('active');
            currentType = tab.dataset.type;
            handleSearchTrigger();
        });
    });

    prevBtn.addEventListener('click', () => {
        if (currentPage > 1) {
            currentPage--;
            window.scrollTo({ top: 0, behavior: 'smooth' });
            updateURL();
            performSearch(searchInput.value.trim(), currentType, currentPage, countrySelect.value);
        }
    });

    nextBtn.addEventListener('click', () => {
        if (currentPage < totalPages) {
            currentPage++;
            window.scrollTo({ top: 0, behavior: 'smooth' });
            updateURL();
            performSearch(searchInput.value.trim(), currentType, currentPage, countrySelect.value);
        }
    });

    function renderResults(results, type) {
        if (!results.length) {
            resultsDiv.textContent = 'No results found for your query.';
            return;
        }
        let html = '';
        if (type === 'images') {
            html = `<div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:10px;">${results.map(img => `<a href="${escapeHTML(img.url)}" rel="noopener noreferrer" class="result" style="padding:0;background:none;border:none;"><img src="${escapeHTML(img.image)}" alt="${escapeHTML(img.title || '')}" class="thumbnail" loading="lazy"></a>`).join('')}</div>`;
        } else {
            html = results.map(r => {
                const payload = JSON.stringify(sanitizeForAttr(r));
                return `
                <div class="result">
                    <button class="more-btn" aria-label="More" onclick='openPanel(${payload})'>&#8942;</button>
                    <div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;">
                        <img src="${escapeHTML(r.favicon)}" width="16" height="16" alt="favicon" style="border-radius:2px;" loading="lazy">
                        <a href="${escapeHTML(r.url)}" rel="noopener noreferrer"><span style="font-size:14px;color:#ccc;display:block;">${escapeHTML(new URL(r.url).hostname)}</span></a>
                    </div>
                    <h3><a href="${escapeHTML(r.url)}" rel="noopener noreferrer">${escapeHTML(r.title)}</a></h3>
                    <p>${escapeHTML(r.description || "")}</p>
                    ${(type === 'videos' && r.thumbnail) ? `<img src="${escapeHTML(r.thumbnail)}" alt="${escapeHTML(r.title)}" class="thumbnail" loading="lazy">` : ''}
                </div>`;
            }).join('');
        }
        resultsDiv.innerHTML = html;
    }

    // Show ad for specific queries if ads are enabled
    function showAdIfNeeded(query) {
        const showAds = localStorage.getItem('showAds') !== '0';
        const adDiv = document.querySelector('.ad-result');
        const adContent = document.getElementById('adContent');
        // Show ad for notebook/journal-related queries
        if (
            showAds &&
            query &&
            (
            /\bnotebooks?\b/i.test(query) ||
            /\bjournals?\b/i.test(query) ||
            /\bbest\s+notebook\b/i.test(query) ||
            /\bbest\s+notebook\s+for\s+free\b/i.test(query)
            )
        ) {
            adDiv.style.display = '';
            adContent.innerHTML = `
            <div style="display:flex;align-items:center;gap:14px;">
                <img src="https://notebook.munetios.com/favicon.ico" alt="Munetios Notebook" style="width:32px;height:32px;border-radius:6px;">
                <div>
                <span style="font-size:13px;color:#b388ff;font-weight:600;">Sponsored</span>
                <h4 style="margin:2px 0 4px 0;">Munetios Notebook – Free, Powerful Online Notebook</h4>
                <p style="margin:0 0 6px 0;font-size:14px;">Make journal, Add images and videos, Archive journals, Add tags, and more. Try Munetios Notebook for free!</p>
                <a href="https://notebook.munetios.com/" class="btn" rel="noopener sponsored" target="_blank">Try Munetios Notebook</a>
                </div>
            </div>
            `;
            return;
        }
        // Show ad for calendar-related queries
        if (
            showAds &&
            query &&
            (
            /free\s+calendars?/i.test(query) ||
            /no\s+sign[\s-]*in|no\s+sign[\s-]*up.*calendar/i.test(query) ||
            /best\s+calendars?/i.test(query) ||
            /calendars?\s+that\s+have\s+favorites?/i.test(query) ||
            /advanced\s+calendar/i.test(query)
            )
        ) {
            adDiv.style.display = '';
            adContent.innerHTML = `
            <div style="display:flex;align-items:center;gap:14px;">
                <img src="https://calendar.munetios.com/new/logo.png" alt="Munetios Calendar" style="width:32px;height:32px;border-radius:6px;">
                <div>
                <span style="font-size:13px;color:#b388ff;font-weight:600;">Sponsored</span>
                <h4 style="margin:2px 0 4px 0;">Munetios Calendar – Free, Advanced, No Sign In Needed</h4>
                <p style="margin:0 0 6px 0;font-size:14px;">Plan events, add favorites, use advanced features, and enjoy a privacy-friendly calendar with no sign in/up required. Try Munetios Calendar for free!</p>
                <a href="https://calendar.munetios.com/" class="btn" rel="noopener sponsored" target="_blank">Try Munetios Calendar</a>
                </div>
            </div>
            `;
            return;
        }
        // Show ad for "calculators that have ai" or "calculators that have ai assistant"
        if (
            showAds &&
            query &&
            (
            /calculators?\s+that\s+have\s+ai(\s+assistant)?/i.test(query)
            || /ai\s+assistant\s+calculator/i.test(query)
            )
        ) {
            adDiv.style.display = '';
            adContent.innerHTML = `
            <div style="display:flex;align-items:center;gap:14px;">
                <img src="https://calculator.munetios.com/favicon.png" alt="Munetios Calculator" style="width:32px;height:32px;border-radius:6px;">
                <div>
                <span style="font-size:13px;color:#b388ff;font-weight:600;">Sponsored</span>
                <h4 style="margin:2px 0 4px 0;">Munetios Calculator – Smart AI-Powered Calculator</h4>
                <p style="margin:0 0 6px 0;font-size:14px;">Solve math, get explanations, and use AI assistant for advanced calculations. Try Munetios Calculator for free!</p>
                <a href="https://calculator.munetios.com/" class="btn" rel="noopener sponsored" target="_blank">Try Munetios Calculator</a>
                </div>
            </div>
            `;
            return;
        }
        // Example: show ad for "best task managers for free"
        if (
            showAds &&
            query &&
            query.toLowerCase().includes('task manager') &&
            query.toLowerCase().includes('free')
        ) {
            adDiv.style.display = '';
            adContent.innerHTML = `
                <div style="display:flex;align-items:center;gap:14px;">
                    <img src="https://tasks.munetios.com/favicon-32x32.png" alt="Munetios Tasks" style="width:32px;height:32px;border-radius:6px;">
                    <div>
                        <span style="font-size:13px;color:#b388ff;font-weight:600;">Sponsored</span>
                        <h4 style="margin:2px 0 4px 0;">Munetios Tasks – Powerful Free Task Manager</h4>
                        <p style="margin:0 0 6px 0;font-size:14px;">Organize tasks, create categories, add subtasks, backup your data, archive a task, search a task, share a task and more, and boost your productivity. Try Munetios Tasks for free!</p>
                        <a href="https://tasks.munetios.com/" class="btn" rel="noopener sponsored" target="_blank">Try Munetios Tasks</a>
                    </div>
                </div>
            `;
        } else {
            adDiv.style.display = 'none';
            adContent.innerHTML = '';
        }
    }

    // Call showAdIfNeeded after rendering results
    showAdIfNeeded(searchInput.value.trim());

    function updatePagination(data) {
        if (data.totalResults > 0) {
            paginationDiv.style.display = 'flex';
            currentPageEl.textContent = data.page;
            totalPagesEl.textContent = data.totalPages;
            prevBtn.disabled = data.page <= 1;
            nextBtn.disabled = data.page >= data.totalPages;
        } else {
            paginationDiv.style.display = 'none';
        }
    }

    window.openPanel = (data) => {
        document.getElementById('dpFavicon').src = data.favicon || 'favicon-16x16.png';
        document.getElementById('dpTitle').textContent = data.title || 'Untitled';
        document.getElementById('dpUrl').textContent = data.url || '';
        document.getElementById('dpDesc').textContent = data.description || 'No description available.';
        document.getElementById('dpVisit').href = data.url || '#';
        const subject = encodeURIComponent(`Report: ${data.title || 'Untitled'} (${data.url || 'unknown'})`);
        document.getElementById('dpReport').onclick = function(e) {
            e.preventDefault();
            window.location.href = `https://mail.google.com/mail/?view=cm&fs=1&to=minecraftgamer97529@gmail.com&su=${subject}`;
        };
        overlay.style.display = 'block';
        detailsPanel.style.display = 'block';
    }

    function closePanel() {
        detailsPanel.style.display = 'none';
        overlay.style.display = 'none';
    }
    overlay.addEventListener('click', closePanel);
    dpClose.addEventListener('click', closePanel);
    window.addEventListener('keydown', (e) => { if (e.key === 'Escape') closePanel(); });

    function escapeHTML(str) {
        if (!str) return '';
        return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/"/g, '&quot;').replace(/'/g, '&#039;');
    }
    
    function sanitizeForAttr(obj) {
        const clone = {};
        for (const k in obj) { clone[k] = typeof obj[k] === 'string' ? escapeHTML(obj[k]) : obj[k]; }
        return clone;
    }
});
</script>
    <script>
        /**
         * MunetiosSearch.search(query, {limit, page}) - fetches results from a local static dataset and can fetch from Wikipedia, GitHub, and YouTube as seed sources.
         * Returns: { results: [...], totalResults: number, totalPages: number, page: number }
         */
        const MunetiosSearch = {
            async search(query, { limit = 20, page = 1, type = 'all', country = '' } = {}) {
                // Static dataset
                const dataset = [
                    {
                        title: "Munetios Home",
                        url: "https://www.munetios.com/",
                        description: "Munetios is a privacy-focused productivity platform.",
                        favicon: "https://www.munetios.com/favicon.ico",
                        image: "https://www.munetios.com/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Munetios Notebook",
                        url: "https://notebook.munetios.com/",
                        description: "Free online notebook for journaling, notes, and more.",
                        favicon: "https://notebook.munetios.com/favicon.ico",
                        image: "https://notebook.munetios.com/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Munetios Calendar",
                        url: "https://calendar.munetios.com/",
                        description: "Advanced, privacy-friendly calendar. No sign in required.",
                        favicon: "https://calendar.munetios.com/new/logo.png",
                        image: "https://calendar.munetios.com/new/logo.png",
                        type: "web"
                    },
                    {
                        title: "Munetios Tasks",
                        url: "https://tasks.munetios.com/",
                        description: "Organize your tasks and boost productivity for free.",
                        favicon: "https://tasks.munetios.com/favicon-32x32.png",
                        image: "https://tasks.munetios.com/favicon.ico",
                        type: "web"
                    },
                    {
                        title: "Munetios Calculator",
                        url: "https://calculator.munetios.com/",
                        description: "AI-powered calculator for solving math and more.",
                        favicon: "https://calculator.munetios.com/favicon.png",
                        image: "",
                        type: "web"
                    },
                    {
                        title: "Munetios Blog",
                        url: "https://blog.munetios.com/",
                        description: "Read the latest news and updates from Munetios.",
                        favicon: "https://blog.munetios.com/favicon.ico",
                        image: "",
                        type: "web"
                    },
                    {
                        title: "Google Search",
                        url: "https://www.google.com/",
                        description: "Search the world's information, including webpages, images, videos and more. Google has many special features to help you find exactly what you're looking for.",
                        favicon: "https://www.google.com/favicon.ico",
                        image: "https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_272x92dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Images",
                        url: "https://images.google.com/",
                        description: "Search the web for images. Google Images helps you quickly find the pictures you want.",
                        favicon: "https://www.google.com/favicon.ico",
                        image: "https://www.google.com/images/branding/product/ico/images_48dp.ico",
                        type: "web"
                    },
                    {
                        title: "Google Maps",
                        url: "https://maps.google.com/",
                        description: "Find local businesses, view maps and get driving directions in Google Maps.",
                        favicon: "https://maps.google.com/favicon.ico",
                        image: "https://www.google.com/maps/about/images/og.png",
                        type: "web"
                    },
                    {
                        title: "Google Drive",
                        url: "https://drive.google.com/",
                        description: "Google Drive is a free way to keep your files backed up and easy to reach from any phone, tablet, or computer.",
                        favicon: "https://ssl.gstatic.com/docs/doclist/images/drive_2022q3_32dp.png",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/hh_drive_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Docs",
                        url: "https://docs.google.com/",
                        description: "Create and edit web-based documents, spreadsheets, and presentations. Store documents online and access them from any computer.",
                        favicon: "https://ssl.gstatic.com/docs/doclist/images/infinite_arrow_favicon_5.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/docs_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Sheets",
                        url: "https://sheets.google.com/",
                        description: "Create and edit spreadsheets online, for free. Google Sheets makes your data pop with charts and graphs.",
                        favicon: "https://ssl.gstatic.com/docs/spreadsheets/favicon3.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/sheets_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Slides",
                        url: "https://slides.google.com/",
                        description: "Create and edit presentations online, for free. Google Slides makes your ideas shine with a variety of presentation themes.",
                        favicon: "https://ssl.gstatic.com/docs/presentations/images/favicon5.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/slides_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Calendar",
                        url: "https://calendar.google.com/",
                        description: "With Google Calendar, you can quickly schedule meetings and events and get reminders about upcoming activities.",
                        favicon: "https://calendar.google.com/googlecalendar/images/favicons_2020q4/calendar_32.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/calendar_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Gmail",
                        url: "https://mail.google.com/",
                        description: "Gmail is email that's intuitive, efficient, and useful. 15 GB of storage, less spam, and mobile access.",
                        favicon: "https://mail.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico",
                        type: "web"
                    },
                    {
                        title: "Google News",
                        url: "https://news.google.com/",
                        description: "Comprehensive, up-to-date news coverage, aggregated from sources all over the world by Google News.",
                        favicon: "https://news.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/news_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Translate",
                        url: "https://translate.google.com/",
                        description: "Google's free service instantly translates words, phrases, and web pages between English and over 100 other languages.",
                        favicon: "https://translate.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/translate_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Photos",
                        url: "https://photos.google.com/",
                        description: "Google Photos is the home for all your photos and videos, automatically organized and easy to share.",
                        favicon: "https://ssl.gstatic.com/images/branding/product/2x/photos_96dp.png",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/photos_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Keep",
                        url: "https://keep.google.com/",
                        description: "Capture notes, share them with others, and access them from your computer, phone or tablet. Free with a Google account.",
                        favicon: "https://ssl.gstatic.com/keep/keep.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/keep_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Classroom",
                        url: "https://classroom.google.com/",
                        description: "Google Classroom helps educators create engaging learning experiences they can personalize, manage, and measure.",
                        favicon: "https://ssl.gstatic.com/classroom/favicon.png",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/classroom_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Forms",
                        url: "https://forms.google.com/",
                        description: "Create online forms and surveys, and analyze responses in real-time. Google Forms is free and easy to use.",
                        favicon: "https://ssl.gstatic.com/docs/forms/forms_favicon_2020q4.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/forms_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Sites",
                        url: "https://sites.google.com/",
                        description: "Effortlessly create impactful team sites. Collaborate on sites with your team, and access them from anywhere.",
                        favicon: "https://ssl.gstatic.com/atari/images/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/sites_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Books",
                        url: "https://books.google.com/",
                        description: "Search the world's most comprehensive index of full-text books. My library.",
                        favicon: "https://books.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/books_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Scholar",
                        url: "https://scholar.google.com/",
                        description: "Google Scholar provides a simple way to broadly search for scholarly literature.",
                        favicon: "https://scholar.google.com/favicon.ico",
                        image: "https://scholar.google.com/intl/en/scholar/images/1x/scholar_64dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Finance",
                        url: "https://www.google.com/finance/",
                        description: "Google Finance provides real-time market quotes, international exchanges, up-to-date financial news, and analytics.",
                        favicon: "https://www.google.com/finance/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/finance_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Flights",
                        url: "https://www.google.com/flights/",
                        description: "Find cheap flights in seconds, explore destinations on a map, and sign up for fare alerts on Google Flights.",
                        favicon: "https://www.google.com/flights/static/images/flights-favicon.ico",
                        image: "https://www.gstatic.com/flights/app/branding/flights_logo_2018q4_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Domains",
                        url: "https://domains.google/",
                        description: "Find your place online with a domain from Google, powered by Google reliability, security and performance.",
                        favicon: "https://domains.google/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/domains_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Ads",
                        url: "https://ads.google.com/",
                        description: "Grow your business with Google Ads. Get in front of customers when they’re searching for businesses like yours.",
                        favicon: "https://ads.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/ads_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google AdSense",
                        url: "https://www.google.com/adsense/",
                        description: "Earn money from your site. Monetize your content with the AdSense program.",
                        favicon: "https://www.google.com/adsense/static/images/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/adsense_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Analytics",
                        url: "https://analytics.google.com/",
                        description: "Google Analytics gives you the tools you need to better understand your customers.",
                        favicon: "https://ssl.gstatic.com/analytics/20230417-00/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/analytics_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Play",
                        url: "https://play.google.com/",
                        description: "Enjoy millions of the latest Android apps, games, music, movies, TV, books, magazines & more.",
                        favicon: "https://play.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/play_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Podcasts",
                        url: "https://podcasts.google.com/",
                        description: "Google Podcasts lets you discover, subscribe, and listen to your favorite podcasts.",
                        favicon: "https://podcasts.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/podcasts_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Meet",
                        url: "https://meet.google.com/",
                        description: "Secure video meetings and conferencing for everyone. Meet safely with Google Meet.",
                        favicon: "https://ssl.gstatic.com/meet/meet_favicon_48px.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/meet_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Chat",
                        url: "https://chat.google.com/",
                        description: "Google Chat is an intelligent and secure communication and collaboration tool, built for teams.",
                        favicon: "https://ssl.gstatic.com/chat/20230417-00/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/chat_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Contacts",
                        url: "https://contacts.google.com/",
                        description: "Google Contacts is your online address book, integrated with Gmail, Calendar, Drive, and other Google products.",
                        favicon: "https://contacts.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/contacts_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Account",
                        url: "https://myaccount.google.com/",
                        description: "Your Google Account helps you do more by personalizing your Google experience and offering easy access to your most important information.",
                        favicon: "https://myaccount.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/account_circle_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Alerts",
                        url: "https://www.google.com/alerts",
                        description: "Monitor the web for interesting new content with Google Alerts.",
                        favicon: "https://www.google.com/alerts/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/alerts_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Trends",
                        url: "https://trends.google.com/",
                        description: "Explore what the world is searching. Google Trends allows you to explore trending search topics.",
                        favicon: "https://trends.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/trends_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Developers",
                        url: "https://developers.google.com/",
                        description: "Google Developers is the place to find all Google developer documentation, resources, events, and products.",
                        favicon: "https://developers.google.com/site-assets/images/favicon.png",
                        image: "https://developers.google.com/site-assets/images/developers-social-media.png",
                        type: "web"
                    },
                    {
                        title: "Google Cloud",
                        url: "https://cloud.google.com/",
                        description: "Google Cloud provides flexible infrastructure, end-to-end security, modern productivity, and intelligent insights.",
                        favicon: "https://cloud.google.com/favicon.ico",
                        image: "https://cloud.google.com/images/social-icon-google-cloud-1200-630.png",
                        type: "web"
                    },
                    {
                        title: "Google One",
                        url: "https://one.google.com/",
                        description: "Google One offers expanded cloud storage, automatic phone backup, and more.",
                        favicon: "https://one.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/one_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Shopping",
                        url: "https://shopping.google.com/",
                        description: "Google Shopping helps you compare thousands of online and local stores. Save money by comparing millions of products across stores and brands.",
                        favicon: "https://shopping.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/shopping_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Art & Culture",
                        url: "https://artsandculture.google.com/",
                        description: "Explore collections from around the world with Google Arts & Culture, created by the Google Cultural Institute.",
                        favicon: "https://artsandculture.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/artsandculture_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Subdomains & Subpages Example",
                        url: "https://support.google.com/",
                        description: "Get help with Google products. Find answers to common questions and learn how to use Google services.",
                        favicon: "https://ssl.gstatic.com/images/branding/product/2x/support_96dp.png",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/support_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Account Security",
                        url: "https://myaccount.google.com/security",
                        description: "Manage your Google Account security settings and keep your account protected.",
                        favicon: "https://myaccount.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/account_circle_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Account Privacy",
                        url: "https://myaccount.google.com/privacycheckup",
                        description: "Take the Privacy Checkup to review and adjust important privacy settings in your Google Account.",
                        favicon: "https://myaccount.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/account_circle_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Classroom Assignments",
                        url: "https://classroom.google.com/u/0/h",
                        description: "View and manage your Google Classroom assignments and classes.",
                        favicon: "https://ssl.gstatic.com/classroom/favicon.png",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/classroom_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Docs Templates",
                        url: "https://docs.google.com/templates",
                        description: "Browse a gallery of Google Docs templates for resumes, reports, and more.",
                        favicon: "https://ssl.gstatic.com/docs/doclist/images/infinite_arrow_favicon_5.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/docs_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Sheets Templates",
                        url: "https://docs.google.com/spreadsheets/u/0/",
                        description: "Access and create Google Sheets templates for budgets, schedules, and more.",
                        favicon: "https://ssl.gstatic.com/docs/spreadsheets/favicon3.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/sheets_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google Slides Templates",
                        url: "https://docs.google.com/presentation/u/0/",
                        description: "Find and use Google Slides templates for presentations, pitches, and more.",
                        favicon: "https://ssl.gstatic.com/docs/presentations/images/favicon5.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/slides_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google News World",
                        url: "https://news.google.com/topics/CAAqJggKIiBDQkFTRWdvSUwyMHZNRFZ4ZERBU0JXVnpjR0ZqYjNnQVAB",
                        description: "World news from Google News, covering global events and stories.",
                        favicon: "https://news.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/news_96dp.png",
                        type: "web"
                    },
                    {
                        title: "Google News Technology",
                        url: "https://news.google.com/topics/CAAqJggKIiBDQkFTRWdvSUwyMHZNRFZ4ZERBU0JXVnpjR0ZqYjNnQVAB?oc=3&ceid=US:en",
                        description: "Technology news from Google News, including the latest in tech and innovation.",
                        favicon: "https://news.google.com/favicon.ico",
                        image: "https://ssl.gstatic.com/images/branding/product/2x/news_96dp.png",
                        type: "web"
                    },
                    {
                        title: "DuckDuckGo Search",
                        url: "https://duckduckgo.com/",
                        description: "Privacy, simplified. DuckDuckGo is an internet privacy company that empowers you to seamlessly take control of your personal information online.",
                        favicon: "https://duckduckgo.com/favicon.ico",
                        image: "https://duckduckgo.com/assets/logo_homepage.normal.v108.svg",
                        type: "web"
                    },
                    {
                        title: "Bing Search",
                        url: "https://www.bing.com/",
                        description: "Bing helps you turn information into action, making it faster and easier to go from searching to doing.",
                        favicon: "https://www.bing.com/sa/simg/favicon-2x.ico",
                        image: "https://www.bing.com/th?id=OHR.BingHomepage_EN-US9425249853_1920x1080.jpg",
                        type: "web"
                    },
                    {
                        title: "Yahoo Search",
                        url: "https://search.yahoo.com/",
                        description: "The search engine that helps you find exactly what you're looking for.",
                        favicon: "https://s.yimg.com/rz/l/favicon.ico",
                        image: "https://s.yimg.com/cv/apiv2/social/images/yahoo_default_logo.png",
                        type: "web"
                    },
                    {
                        title: "Brave Search",
                        url: "https://search.brave.com/",
                        description: "Private, independent, and transparent search engine by Brave.",
                        favicon: "https://search.brave.com/static-assets/images/brave-favicon.png",
                        image: "https://brave.com/static-assets/images/brave-og.png",
                        type: "web"
                    },
                    {
                        title: "Startpage Search",
                        url: "https://www.startpage.com/",
                        description: "The world's most private search engine.",
                        favicon: "https://www.startpage.com/sp/cdn/images/favicon/favicon-32x32.png",
                        image: "https://www.startpage.com/sp/cdn/images/startpage-og.png",
                        type: "web"
                    },
                    {
                        title: "Qwant Search",
                        url: "https://www.qwant.com/",
                        description: "Qwant is a search engine that respects your privacy and eases discovering and sharing via a social approach.",
                        favicon: "https://www.qwant.com/favicon.ico",
                        image: "https://www.qwant.com/img/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Reddit",
                        url: "https://www.reddit.com/",
                        description: "Reddit is a network of communities based on people's interests.",
                        favicon: "https://www.redditstatic.com/desktop2x/img/favicon/favicon-32x32.png",
                        image: "https://www.redditinc.com/assets/images/site/reddit-logo.png",
                        type: "web"
                    },
                    {
                        title: "Stack Overflow",
                        url: "https://stackoverflow.com/",
                        description: "Stack Overflow is the largest, most trusted online community for developers to learn, share their programming knowledge, and build their careers.",
                        favicon: "https://cdn.sstatic.net/Sites/stackoverflow/Img/favicon.ico",
                        image: "https://cdn.sstatic.net/Sites/stackoverflow/company/img/logos/so/so-logo.png",
                        type: "web"
                    },
                    {
                        title: "Wikipedia",
                        url: "https://www.wikipedia.org/",
                        description: "Wikipedia is a free online encyclopedia, created and edited by volunteers around the world.",
                        favicon: "https://www.wikipedia.org/static/favicon/wikipedia.ico",
                        image: "https://www.wikipedia.org/portal/wikipedia.org/assets/img/Wikipedia-logo-v2.png",
                        type: "web"
                    },
                    {
                        title: "YouTube",
                        url: "https://www.youtube.com/",
                        description: "Enjoy the videos and music you love, upload original content, and share it all with friends, family, and the world on YouTube.",
                        favicon: "https://www.youtube.com/s/desktop/6e8e3e5d/img/favicon.ico",
                        image: "https://www.youtube.com/img/desktop/yt_1200.png",
                        type: "videos"
                    },
                    {
                        title: "Vimeo",
                        url: "https://vimeo.com/",
                        description: "Vimeo is the world's most innovative video experience platform.",
                        favicon: "https://vimeo.com/favicon.ico",
                        image: "https://i.vimeocdn.com/video/595198868_1280x720.jpg",
                        type: "videos"
                    },
                    {
                        title: "Unsplash",
                        url: "https://unsplash.com/",
                        description: "Beautiful, free images and photos that you can download and use for any project.",
                        favicon: "https://unsplash.com/favicon-32x32.png",
                        image: "https://unsplash.com/blog/content/images/2022/12/unsplash-logo.png",
                        type: "images"
                    },
                    {
                        title: "Pixabay",
                        url: "https://pixabay.com/",
                        description: "Over 2.7 million+ high quality stock images, videos and music shared by our talented community.",
                        favicon: "https://pixabay.com/favicon-32x32.png",
                        image: "https://cdn.pixabay.com/photo/2017/01/06/19/15/soap-bubble-1958650_1280.jpg",
                        type: "images"
                    },
                    {
                        title: "Pexels",
                        url: "https://www.pexels.com/",
                        description: "Free stock photos you can use everywhere.",
                        favicon: "https://www.pexels.com/favicon.ico",
                        image: "https://images.pexels.com/photos/34950/pexels-photo.jpg",
                        type: "images"
                    },
                    {
                        title: "Flickr",
                        url: "https://www.flickr.com/",
                        description: "Flickr is almost certainly the best online photo management and sharing application in the world.",
                        favicon: "https://www.flickr.com/favicon.ico",
                        image: "https://combo.staticflickr.com/pw/images/buddyicon02_r.png",
                        type: "images"
                    },
                    {
                        title: "Instagram",
                        url: "https://www.instagram.com/",
                        description: "Create & share photos, stories, & clips with the friends you love.",
                        favicon: "https://www.instagram.com/static/images/ico/favicon-192.png/68d99ba29cc8.png",
                        image: "https://instagram-brand.com/wp-content/uploads/2016/11/app-icon2.png",
                        type: "images"
                    },
                    {
                        title: "Twitter (X)",
                        url: "https://twitter.com/",
                        description: "From breaking news and entertainment to sports and politics, get the full story with all the live commentary.",
                        favicon: "https://abs.twimg.com/favicons/twitter.2.ico",
                        image: "https://abs.twimg.com/icons/apple-touch-icon-192x192.png",
                        type: "web"
                    },
                    {
                        title: "Facebook",
                        url: "https://www.facebook.com/",
                        description: "Connect with friends and the world around you on Facebook.",
                        favicon: "https://www.facebook.com/favicon.ico",
                        image: "https://static.xx.fbcdn.net/rsrc.php/y8/r/dF5SId3UHWd.svg",
                        type: "web"
                    },
                    {
                        title: "LinkedIn",
                        url: "https://www.linkedin.com/",
                        description: "Manage your professional identity. Build and engage with your professional network.",
                        favicon: "https://static.licdn.com/scds/common/u/images/logos/favicons/v1/favicon.ico",
                        image: "https://static-exp1.licdn.com/sc/h/8w0q7k8b5a6p5b5w6y0v4p6p",
                        type: "web"
                    },
                    {
                        title: "GitHub",
                        url: "https://github.com/",
                        description: "GitHub is where over 100 million developers shape the future of software, together.",
                        favicon: "https://github.githubassets.com/favicons/favicon.svg",
                        image: "https://github.githubassets.com/images/modules/open_graph/github-mark.png",
                        type: "web"
                    },
                    {
                        title: "GitLab",
                        url: "https://gitlab.com/",
                        description: "The first single application for the entire DevOps lifecycle.",
                        favicon: "https://about.gitlab.com/images/favicon.png",
                        image: "https://about.gitlab.com/images/press/logo/png/gitlab-icon-rgb.png",
                        type: "web"
                    },
                    {
                        title: "Bitbucket",
                        url: "https://bitbucket.org/",
                        description: "Bitbucket is more than just Git code management.",
                        favicon: "https://bitbucket.org/favicon.ico",
                        image: "https://wac-cdn.atlassian.com/dam/jcr:1b8e6e7c-6c8b-4e5e-8e2a-2e3e7b8e7e7e/bitbucket-og-image.png",
                        type: "web"
                    },
                    {
                        title: "Notion",
                        url: "https://www.notion.so/",
                        description: "One workspace. Every team. Notion is all you need — in one tool.",
                        favicon: "https://www.notion.so/images/favicon.ico",
                        image: "https://www.notion.so/cdn-cgi/image/format=auto,width=1200,quality=80/front-static/pages/home/home-hero.png",
                        type: "web"
                    },
                    {
                        title: "Trello",
                        url: "https://trello.com/",
                        description: "Trello helps teams move work forward.",
                        favicon: "https://trello.com/favicon.ico",
                        image: "https://a.trellocdn.com/prgb/dist/images/og/trello-hero.png",
                        type: "web"
                    },
                    {
                        title: "Asana",
                        url: "https://asana.com/",
                        description: "Easily organize and plan workflows, projects, and more.",
                        favicon: "https://asana.com/favicon.ico",
                        image: "https://luna1.co/0e1b6d.png",
                        type: "web"
                    },
                    {
                        title: "Slack",
                        url: "https://slack.com/",
                        description: "Slack is your digital HQ—a place where work flows between your people, systems, partners and customers.",
                        favicon: "https://a.slack-edge.com/80588/marketing/img/meta/favicon-32.png",
                        image: "https://a.slack-edge.com/80588/marketing/img/meta/slack_hash_256.png",
                        type: "web"
                    },
                    {
                        title: "Discord",
                        url: "https://discord.com/",
                        description: "Discord is the easiest way to talk over voice, video, and text.",
                        favicon: "https://discord.com/assets/847541504914fd33810e70a0ea73177e.ico",
                        image: "https://discord.com/assets/9c38e5c8c8b8c8c8c8c8c8c8c8c8c8c8.png",
                        type: "web"
                    },
                    {
                        title: "Zoom",
                        url: "https://zoom.us/",
                        description: "Zoom is the leader in modern enterprise video communications.",
                        favicon: "https://st1.zoom.us/zoom.ico",
                        image: "https://explore.zoom.us/media/zoom-og-image.jpg",
                        type: "web"
                    },
                    {
                        title: "Microsoft Teams",
                        url: "https://teams.microsoft.com/",
                        description: "Microsoft Teams is a collaboration app that helps your team stay organized and has conversations all in one place.",
                        favicon: "https://statics.teams.cdn.office.net/hashedassets/favicon/favicon-32x32.png",
                        image: "https://statics.teams.cdn.office.net/hashedassets/logo/teams-logo.png",
                        type: "web"
                    },
                    {
                        title: "Dropbox",
                        url: "https://www.dropbox.com/",
                        description: "Dropbox is a modern workspace designed to reduce busywork.",
                        favicon: "https://cfl.dropboxstatic.com/static/images/favicon.ico",
                        image: "https://cfl.dropboxstatic.com/static/images/brand/glyph@2x-vflJ1vxbq.png",
                        type: "web"
                    },
                    {
                        title: "Box",
                        url: "https://www.box.com/",
                        description: "Box is changing how you manage content across your business from simple file sharing to building custom apps.",
                        favicon: "https://www.box.com/static/img/favicon.ico",
                        image: "https://cdn01.boxcdn.net/sites/default/files/2018-11/box-og-image.png",
                        type: "web"
                    },
                    {
                        title: "Evernote",
                        url: "https://evernote.com/",
                        description: "Evernote helps you capture and prioritize ideas, projects, and to-do lists.",
                        favicon: "https://evernote.com/favicon.ico",
                        image: "https://evernote.com/c/assets/homepage/og-image.png",
                        type: "web"
                    },
                    {
                        title: "OneNote",
                        url: "https://www.onenote.com/",
                        description: "OneNote is your digital notebook for capturing and organizing everything across your devices.",
                        favicon: "https://www.onenote.com/favicon.ico",
                        image: "https://onenote.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Quora",
                        url: "https://www.quora.com/",
                        description: "Quora is a place to gain and share knowledge.",
                        favicon: "https://www.quora.com/favicon.ico",
                        image: "https://qph.cf2.quoracdn.net/main-qimg-6b3e6b3e6b3e6b3e6b3e6b3e6b3e6b3e",
                        type: "web"
                    },
                    {
                        title: "Medium",
                        url: "https://medium.com/",
                        description: "Medium is an open platform where readers find dynamic thinking, and where expert and undiscovered voices can share their writing.",
                        favicon: "https://medium.com/favicon.ico",
                        image: "https://miro.medium.com/max/1200/1*U7u5QwKQpQKQpQKQpQKQpQ.png",
                        type: "web"
                    },
                    {
                        title: "WordPress",
                        url: "https://wordpress.com/",
                        description: "Create a free website or build a blog with ease on WordPress.com.",
                        favicon: "https://wordpress.com/favicon.ico",
                        image: "https://s.w.org/images/core/emoji/13.1.0/svg/1f4dd.svg",
                        type: "web"
                    },
                    {
                        title: "Tumblr",
                        url: "https://www.tumblr.com/",
                        description: "Tumblr is a place to express yourself, discover yourself, and bond over the stuff you love.",
                        favicon: "https://www.tumblr.com/favicon.ico",
                        image: "https://assets.tumblr.com/images/og/tumblr_og_image.png",
                        type: "web"
                    },
                    {
                        title: "Pinterest",
                        url: "https://www.pinterest.com/",
                        description: "Discover recipes, home ideas, style inspiration and other ideas to try.",
                        favicon: "https://s.pinimg.com/webapp/favicon-32x32.png",
                        image: "https://s.pinimg.com/webapp/style/images/logo_trans_144x144-4c3a4e7e.png",
                        type: "images"
                    },
                    {
                        title: "Canva",
                        url: "https://www.canva.com/",
                        description: "Create beautiful designs with your team.",
                        favicon: "https://static.canva.com/static/images/favicon.ico",
                        image: "https://static.canva.com/static/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Figma",
                        url: "https://www.figma.com/",
                        description: "Figma is the collaborative interface design tool.",
                        favicon: "https://static.figma.com/app/icon/1/favicon.ico",
                        image: "https://static.figma.com/app/icon/1/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Adobe Creative Cloud",
                        url: "https://www.adobe.com/creativecloud.html",
                        description: "Creative Cloud gives you the entire collection of Adobe desktop and mobile apps.",
                        favicon: "https://www.adobe.com/favicon.ico",
                        image: "https://www.adobe.com/content/dam/cc/icons/cc-apps-og.png",
                        type: "web"
                    },
                    {
                        title: "Spotify",
                        url: "https://www.spotify.com/",
                        description: "Spotify is a digital music service that gives you access to millions of songs.",
                        favicon: "https://www.scdn.co/i/_global/favicon.png",
                        image: "https://www.scdn.co/i/_global/open-graph-default.png",
                        type: "web"
                    },
                    {
                        title: "SoundCloud",
                        url: "https://soundcloud.com/",
                        description: "SoundCloud is a music and podcast streaming platform.",
                        favicon: "https://soundcloud.com/favicon.ico",
                        image: "https://soundcloud.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Apple Music",
                        url: "https://music.apple.com/",
                        description: "Stream 100 million songs ad-free, listen offline with Apple Music.",
                        favicon: "https://music.apple.com/favicon.ico",
                        image: "https://music.apple.com/assets/apple-music-og.png",
                        type: "web"
                    },
                    {
                        title: "Amazon",
                        url: "https://www.amazon.com/",
                        description: "Free shipping on millions of items. Get the best of Shopping and Entertainment with Prime.",
                        favicon: "https://www.amazon.com/favicon.ico",
                        image: "https://images-na.ssl-images-amazon.com/images/G/01/AUIClients/AmazonUIBaseCSS-sprite_2x-ae8c6e....png",
                        type: "web"
                    },
                    {
                        title: "eBay",
                        url: "https://www.ebay.com/",
                        description: "Buy & sell electronics, cars, clothes, collectibles & more on eBay.",
                        favicon: "https://www.ebay.com/favicon.ico",
                        image: "https://ir.ebaystatic.com/pictures/aw/pics/logos/ebay_og_image.png",
                        type: "web"
                    },
                    {
                        title: "AliExpress",
                        url: "https://www.aliexpress.com/",
                        description: "Smarter Shopping, Better Living! Aliexpress.com",
                        favicon: "https://ae01.alicdn.com/kf/HTB1Q2vQXwHqK1RjSZFgq6y7JXXaF.ico",
                        image: "https://ae01.alicdn.com/kf/HTB1Q2vQXwHqK1RjSZFgq6y7JXXaF.png",
                        type: "web"
                    },
                    {
                        title: "Walmart",
                        url: "https://www.walmart.com/",
                        description: "Shop Walmart.com for Every Day Low Prices.",
                        favicon: "https://www.walmart.com/favicon.ico",
                        image: "https://i5.walmartimages.com/dfw/63fd9f59-2b2a/k2-_b1e2e2e2-2e2e-2e2e-2e2e-2e2e2e2e2e2e.v1.png",
                        type: "web"
                    },
                    {
                        title: "Target",
                        url: "https://www.target.com/",
                        description: "Shop Target for all your needs.",
                        favicon: "https://www.target.com/favicon.ico",
                        image: "https://target.scene7.com/is/image/Target/Target_Logo_OG",
                        type: "web"
                    },
                    {
                        title: "BBC News",
                        url: "https://www.bbc.com/news",
                        description: "Visit BBC News for up-to-the-minute news, breaking news, video, audio and feature stories.",
                        favicon: "https://www.bbc.com/favicon.ico",
                        image: "https://news.files.bbci.co.uk/include/newsspec/19854/assets/app-project-assets/bbc-news-logo.png",
                        type: "web"
                    },
                    {
                        title: "CNN",
                        url: "https://www.cnn.com/",
                        description: "View the latest news and breaking news today for U.S., world, weather, entertainment, politics and health at CNN.com.",
                        favicon: "https://cdn.cnn.com/cnn/.e1mo/img/4.0/logos/favicon.ico",
                        image: "https://cdn.cnn.com/cnn/.e1mo/img/4.0/logos/cnn_logo_social.jpg",
                        type: "web"
                    },
                    {
                        title: "The New York Times",
                        url: "https://www.nytimes.com/",
                        description: "Live news, investigations, opinion, photos and video by the journalists of The New York Times.",
                        favicon: "https://www.nytimes.com/favicon.ico",
                        image: "https://static01.nyt.com/images/2021/09/20/briefing/20am-briefing-promo/20am-briefing-promo-facebookJumbo.jpg",
                        type: "web"
                    },
                    {
                        title: "The Guardian",
                        url: "https://www.theguardian.com/international",
                        description: "Latest international news, sport and comment from the Guardian.",
                        favicon: "https://assets.guim.co.uk/images/favicons/4c6d05b6e2b7b2e2e2e2e2e2e2e2e2e2.ico",
                        image: "https://assets.guim.co.uk/images/favicons/4c6d05b6e2b7b2e2e2e2e2e2e2e2e2e2.png",
                        type: "web"
                    },
                    {
                        title: "Reuters",
                        url: "https://www.reuters.com/",
                        description: "Find latest news from Reuters.",
                        favicon: "https://www.reuters.com/pf/resources/images/favicon.ico",
                        image: "https://www.reuters.com/pf/resources/images/reuters-og-image.png",
                        type: "web"
                    },
                    {
                        title: "Bloomberg",
                        url: "https://www.bloomberg.com/",
                        description: "Bloomberg delivers business and markets news, data, analysis, and video.",
                        favicon: "https://assets.bwbx.io/business/public/images/favicons/favicon-32x32.png",
                        image: "https://assets.bwbx.io/business/public/images/social_default.png",
                        type: "web"
                    },
                    {
                        title: "Yahoo Finance",
                        url: "https://finance.yahoo.com/",
                        description: "At Yahoo Finance, you get free stock quotes, up-to-date news, portfolio management resources, international market data, social interaction and mortgage rates.",
                        favicon: "https://s.yimg.com/cv/apiv2/default/icons/favicon_y19_32x32_custom.svg",
                        image: "https://s.yimg.com/uu/api/res/1.2/4Q4Q4Q4Q4Q4Q4Q4Q4Q4Q--~B/aD0xMjAwO3c9MTIwMDthcHBpZD15dGFjaHlvbg--/https://media.zenfs.com/en-US/homerun/finance.yahoo.com/4e4e4e4e4e4e4e4e4e4e4e4e4e4e4e4e",
                        type: "web"
                    },
                    {
                        title: "CoinMarketCap",
                        url: "https://coinmarketcap.com/",
                        description: "View top cryptocurrencies by market cap.",
                        favicon: "https://s2.coinmarketcap.com/static/cloud/img/coinmarketcap_white_1.svg",
                        image: "https://s2.coinmarketcap.com/static/cloud/img/coinmarketcap_og.png",
                        type: "web"
                    },
                    {
                        title: "CoinGecko",
                        url: "https://www.coingecko.com/",
                        description: "Get cryptocurrency prices, market cap, charts, and more.",
                        favicon: "https://www.coingecko.com/favicon.ico",
                        image: "https://www.coingecko.com/assets/coingecko-hero-2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e.png",
                        type: "web"
                    },
                    {
                        title: "Khan Academy",
                        url: "https://www.khanacademy.org/",
                        description: "You can learn anything. Expert-created content and resources for every course and level.",
                        favicon: "https://cdn.kastatic.org/images/favicon.ico",
                        image: "https://cdn.kastatic.org/images/ka-og-image.png",
                        type: "web"
                    },
                    {
                        title: "Coursera",
                        url: "https://www.coursera.org/",
                        description: "Build skills with courses, certificates, and degrees online from world-class universities and companies.",
                        favicon: "https://d3njjcbhbojbot.cloudfront.net/web/images/favicons/favicon-v2.ico",
                        image: "https://d3njjcbhbojbot.cloudfront.net/web/images/favicons/coursera-og.png",
                        type: "web"
                    },
                    {
                        title: "edX",
                        url: "https://www.edx.org/",
                        description: "Access 2000 free online courses from 140 leading institutions worldwide.",
                        favicon: "https://www.edx.org/favicon.ico",
                        image: "https://prod-discovery.edx-cdn.org/media/course/image/4e4e4e4e-4e4e-4e4e-4e4e-4e4e4e4e4e4e-og.jpg",
                        type: "web"
                    },
                    {
                        title: "Udemy",
                        url: "https://www.udemy.com/",
                        description: "Udemy is an online learning and teaching marketplace with over 213,000 courses and 62 million students.",
                        favicon: "https://www.udemy.com/staticx/udemy/images/v7/favicon-32x32.png",
                        image: "https://www.udemy.com/staticx/udemy/images/v7/udemy-meta-image.png",
                        type: "web"
                    },
                    {
                        title: "Duolingo",
                        url: "https://www.duolingo.com/",
                        description: "Learn 30+ languages online with bite-size lessons based on science.",
                        favicon: "https://d35aaqx5ub95lt.cloudfront.net/favicon.ico",
                        image: "https://d35aaqx5ub95lt.cloudfront.net/images/og/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Rosetta Stone",
                        url: "https://www.rosettastone.com/",
                        description: "Learn a new language with Rosetta Stone.",
                        favicon: "https://www.rosettastone.com/favicon.ico",
                        image: "https://www.rosettastone.com/content/dam/rosetta-stone/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Wolfram Alpha",
                        url: "https://www.wolframalpha.com/",
                        description: "Wolfram Alpha brings expert-level knowledge and capabilities to the broadest possible range of people.",
                        favicon: "https://www.wolframalpha.com/favicon.ico",
                        image: "https://www.wolframalpha.com/_next/static/media/og-image.4e4e4e4e.png",
                        type: "web"
                    },
                    {
                        title: "Desmos",
                        url: "https://www.desmos.com/",
                        description: "Explore math with our free online graphing calculator.",
                        favicon: "https://www.desmos.com/favicon.ico",
                        image: "https://www.desmos.com/assets/img/og-image.png",
                        type: "web"
                    },
                    {
                        title: "GeoGebra",
                        url: "https://www.geogebra.org/",
                        description: "GeoGebra - the world’s favorite, free math tools used by millions of students and teachers.",
                        favicon: "https://www.geogebra.org/favicon.ico",
                        image: "https://www.geogebra.org/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Archive.org",
                        url: "https://archive.org/",
                        description: "Internet Archive is a non-profit library of millions of free books, movies, software, music, websites, and more.",
                        favicon: "https://archive.org/images/favicon.ico",
                        image: "https://archive.org/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Wayback Machine",
                        url: "https://web.archive.org/",
                        description: "Explore more than 686 billion web pages saved over time.",
                        favicon: "https://archive.org/images/wayback-machine-logo-32x32.png",
                        image: "https://archive.org/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "OpenAI",
                        url: "https://openai.com/",
                        description: "OpenAI’s mission is to ensure that artificial general intelligence benefits all of humanity.",
                        favicon: "https://openai.com/favicon.ico",
                        image: "https://openai.com/content/images/2022/05/openai-avatar.png",
                        type: "web"
                    },
                    {
                        title: "ChatGPT",
                        url: "https://chat.openai.com/",
                        description: "ChatGPT is an AI-powered language model developed by OpenAI.",
                        favicon: "https://chat.openai.com/favicon.ico",
                        image: "https://chat.openai.com/apple-touch-icon.png",
                        type: "web"
                    },
                    {
                        title: "Hugging Face",
                        url: "https://huggingface.co/",
                        description: "Build, train and deploy state of the art models powered by the reference open source in machine learning.",
                        favicon: "https://huggingface.co/front/assets/huggingface_logo-noborder.svg",
                        image: "https://huggingface.co/front/assets/huggingface_logo-noborder.svg",
                        type: "web"
                    },
                    {
                        title: "DeepL Translator",
                        url: "https://www.deepl.com/translator",
                        description: "DeepL Translate: The world's most accurate translator.",
                        favicon: "https://www.deepl.com/favicon.ico",
                        image: "https://www.deepl.com/img/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Grammarly",
                        url: "https://www.grammarly.com/",
                        description: "Grammarly makes sure everything you type is clear, effective, and mistake-free.",
                        favicon: "https://static.grammarly.com/assets/files/9d6e5e5e5e5e5e5e5e5e5e5e5e5e5e5e/favicon.ico",
                        image: "https://static.grammarly.com/assets/files/9d6e5e5e5e5e5e5e5e5e5e5e5e5e5e5e/grammarly-og-image.png",
                        type: "web"
                    },
                    {
                        title: "Proton Mail",
                        url: "https://proton.me/mail",
                        description: "Secure email that protects your privacy.",
                        favicon: "https://proton.me/favicon.ico",
                        image: "https://proton.me/_nuxt/img/protonmail-og-image.4e4e4e4e.png",
                        type: "web"
                    },
                    {
                        title: "Tutanota",
                        url: "https://tutanota.com/",
                        description: "Secure email service, easy to use and private by design.",
                        favicon: "https://tutanota.com/favicon.ico",
                        image: "https://tutanota.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Zoho Mail",
                        url: "https://www.zoho.com/mail/",
                        description: "Secure, encrypted, privacy-guaranteed email service for your business.",
                        favicon: "https://www.zoho.com/favicon.ico",
                        image: "https://www.zoho.com/mail/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Proton Drive",
                        url: "https://proton.me/drive",
                        description: "End-to-end encrypted cloud storage.",
                        favicon: "https://proton.me/favicon.ico",
                        image: "https://proton.me/_nuxt/img/protondrive-og-image.4e4e4e4e.png",
                        type: "web"
                    },
                    {
                        title: "Jitsi Meet",
                        url: "https://meet.jit.si/",
                        description: "Secure, fully featured, and completely free video conferencing.",
                        favicon: "https://meet.jit.si/favicon.ico",
                        image: "https://jitsi.org/wp-content/uploads/2018/02/jitsi-logo-blue.png",
                        type: "web"
                    },
                    {
                        title: "Element (Matrix)",
                        url: "https://element.io/",
                        description: "Element is a secure messenger and collaboration app based on the Matrix protocol.",
                        favicon: "https://element.io/images/favicon.ico",
                        image: "https://element.io/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Signal",
                        url: "https://signal.org/",
                        description: "Millions of people use Signal every day for free and instantaneous communication.",
                        favicon: "https://signal.org/assets/favicon.ico",
                        image: "https://signal.org/assets/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Telegram",
                        url: "https://telegram.org/",
                        description: "Telegram is a cloud-based mobile and desktop messaging app with a focus on security and speed.",
                        favicon: "https://telegram.org/favicon.ico",
                        image: "https://telegram.org/img/t_logo.png",
                        type: "web"
                    },
                    {
                        title: "Mastodon",
                        url: "https://mastodon.social/",
                        description: "Mastodon is a free, open-source social network server based on ActivityPub.",
                        favicon: "https://mastodon.social/favicon.ico",
                        image: "https://joinmastodon.org/static/og_image.png",
                        type: "web"
                    },
                    {
                        title: "Lemmy",
                        url: "https://join-lemmy.org/",
                        description: "Lemmy is a link aggregator for the fediverse.",
                        favicon: "https://join-lemmy.org/favicon.ico",
                        image: "https://join-lemmy.org/static/og_image.png",
                        type: "web"
                    },
                    {
                        title: "PeerTube",
                        url: "https://joinpeertube.org/",
                        description: "PeerTube, a decentralized video hosting network.",
                        favicon: "https://joinpeertube.org/favicon.ico",
                        image: "https://joinpeertube.org/static/og_image.png",
                        type: "videos"
                    },
                    {
                        title: "Nextcloud",
                        url: "https://nextcloud.com/",
                        description: "The self-hosted productivity platform that keeps you in control.",
                        favicon: "https://nextcloud.com/wp-content/themes/nextcloud-theming/images/favicon/favicon.ico",
                        image: "https://nextcloud.com/wp-content/themes/nextcloud-theming/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "CryptPad",
                        url: "https://cryptpad.fr/",
                        description: "CryptPad is a private-by-design alternative to popular office tools and cloud services.",
                        favicon: "https://cryptpad.fr/favicon.ico",
                        image: "https://cryptpad.fr/static/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Joplin",
                        url: "https://joplinapp.org/",
                        description: "Joplin is an open source note taking and to-do application.",
                        favicon: "https://joplinapp.org/images/favicon.ico",
                        image: "https://joplinapp.org/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Obsidian",
                        url: "https://obsidian.md/",
                        description: "Obsidian is a powerful knowledge base that works on top of a local folder of plain text Markdown files.",
                        favicon: "https://obsidian.md/favicon.ico",
                        image: "https://obsidian.md/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Standard Notes",
                        url: "https://standardnotes.com/",
                        description: "A simple and private notes app.",
                        favicon: "https://standardnotes.com/favicon.ico",
                        image: "https://standardnotes.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Todoist",
                        url: "https://todoist.com/",
                        description: "Regain clarity and calmness by getting all those tasks out of your head and onto your to-do list.",
                        favicon: "https://todoist.com/favicon.ico",
                        image: "https://todoist.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "TickTick",
                        url: "https://ticktick.com/",
                        description: "TickTick is a simple and effective to-do list and task manager app.",
                        favicon: "https://ticktick.com/favicon.ico",
                        image: "https://ticktick.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Habitica",
                        url: "https://habitica.com/",
                        description: "Habitica is a free habit and productivity app that treats your real life like a game.",
                        favicon: "https://habitica.com/favicon.ico",
                        image: "https://habitica.com/static/og-image.png",
                        type: "web"
                    },
                    {
                        title: "RescueTime",
                        url: "https://www.rescuetime.com/",
                        description: "RescueTime helps you understand your daily habits so you can focus and be more productive.",
                        favicon: "https://www.rescuetime.com/favicon.ico",
                        image: "https://www.rescuetime.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Forest",
                        url: "https://www.forestapp.cc/",
                        description: "Forest is an app that helps you stay focused on the important things in life.",
                        favicon: "https://www.forestapp.cc/favicon.ico",
                        image: "https://www.forestapp.cc/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Pomofocus",
                        url: "https://pomofocus.io/",
                        description: "A simple Pomodoro timer app that works on desktop & mobile browser.",
                        favicon: "https://pomofocus.io/favicon.ico",
                        image: "https://pomofocus.io/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Focusmate",
                        url: "https://www.focusmate.com/",
                        description: "Focusmate virtual coworking helps you get things done.",
                        favicon: "https://www.focusmate.com/favicon.ico",
                        image: "https://www.focusmate.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Freedom",
                        url: "https://freedom.to/",
                        description: "Freedom blocks distractions on all your devices so you can focus on what matters most.",
                        favicon: "https://freedom.to/favicon.ico",
                        image: "https://freedom.to/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Noisli",
                        url: "https://www.noisli.com/",
                        description: "Noisli is your digital place for focus.",
                        favicon: "https://www.noisli.com/favicon.ico",
                        image: "https://www.noisli.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Calm",
                        url: "https://www.calm.com/",
                        description: "Calm is the #1 app for sleep and meditation.",
                        favicon: "https://www.calm.com/favicon.ico",
                        image: "https://www.calm.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Headspace",
                        url: "https://www.headspace.com/",
                        description: "Headspace is your guide to mindfulness for your everyday life.",
                        favicon: "https://www.headspace.com/favicon.ico",
                        image: "https://www.headspace.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Sleep Cycle",
                        url: "https://www.sleepcycle.com/",
                        description: "Sleep Cycle tracks and analyzes your sleep, waking you up at the most perfect time.",
                        favicon: "https://www.sleepcycle.com/favicon.ico",
                        image: "https://www.sleepcycle.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "MyFitnessPal",
                        url: "https://www.myfitnesspal.com/",
                        description: "Free Calorie Counter, Diet & Exercise Journal.",
                        favicon: "https://www.myfitnesspal.com/favicon.ico",
                        image: "https://www.myfitnesspal.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Strava",
                        url: "https://www.strava.com/",
                        description: "Strava is the social network for athletes.",
                        favicon: "https://www.strava.com/favicon.ico",
                        image: "https://www.strava.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Fitbit",
                        url: "https://www.fitbit.com/",
                        description: "Fitbit helps you lead a healthier, more active life.",
                        favicon: "https://www.fitbit.com/favicon.ico",
                        image: "https://www.fitbit.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Google Fit",
                        url: "https://www.google.com/fit/",
                        description: "Google Fit helps you track your activity and reach your fitness goals.",
                        favicon: "https://www.google.com/fit/static/images/favicon.ico",
                        image: "https://www.google.com/fit/static/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Apple Health",
                        url: "https://www.apple.com/ios/health/",
                        description: "The Health app makes it easy to learn about your health and start reaching your goals.",
                        favicon: "https://www.apple.com/favicon.ico",
                        image: "https://www.apple.com/v/ios/health/a/images/overview/og_image__e4e4e4e4e4e4e4e4e4e4e4e4e4e4e4e4.png",
                        type: "web"
                    },
                    {
                        title: "Pocket",
                        url: "https://getpocket.com/",
                        description: "When you find something you want to view later, put it in Pocket.",
                        favicon: "https://getpocket.com/favicon.ico",
                        image: "https://getpocket.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Feedly",
                        url: "https://feedly.com/",
                        description: "Feedly is a news aggregator application for various web browsers and mobile devices.",
                        favicon: "https://feedly.com/favicon.ico",
                        image: "https://feedly.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Inoreader",
                        url: "https://www.inoreader.com/",
                        description: "Inoreader is a content reader for power users who want to save time.",
                        favicon: "https://www.inoreader.com/favicon.ico",
                        image: "https://www.inoreader.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Raindrop.io",
                        url: "https://raindrop.io/",
                        description: "All-in-one bookmark manager.",
                        favicon: "https://raindrop.io/favicon.ico",
                        image: "https://raindrop.io/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Pinboard",
                        url: "https://pinboard.in/",
                        description: "Pinboard is a fast, no-nonsense bookmarking site for people who value privacy and speed.",
                        favicon: "https://pinboard.in/favicon.ico",
                        image: "https://pinboard.in/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Zotero",
                        url: "https://www.zotero.org/",
                        description: "Zotero is a free, easy-to-use tool to help you collect, organize, cite, and share research.",
                        favicon: "https://www.zotero.org/favicon.ico",
                        image: "https://www.zotero.org/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Mendeley",
                        url: "https://www.mendeley.com/",
                        description: "Mendeley is a free reference manager and academic social network.",
                        favicon: "https://www.mendeley.com/favicon.ico",
                        image: "https://www.mendeley.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Overleaf",
                        url: "https://www.overleaf.com/",
                        description: "Overleaf is a collaborative cloud-based LaTeX editor.",
                        favicon: "https://www.overleaf.com/favicon.ico",
                        image: "https://www.overleaf.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "ShareLaTeX",
                        url: "https://www.sharelatex.com/",
                        description: "ShareLaTeX is an online LaTeX editor that's easy to use.",
                        favicon: "https://www.sharelatex.com/favicon.ico",
                        image: "https://www.sharelatex.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Draw.io",
                        url: "https://app.diagrams.net/",
                        description: "Draw.io is a free online diagram software for making flowcharts, process diagrams, org charts, UML, ER and network diagrams.",
                        favicon: "https://app.diagrams.net/favicon.ico",
                        image: "https://app.diagrams.net/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Lucidchart",
                        url: "https://www.lucidchart.com/",
                        description: "Lucidchart is your solution for visual communication and cross-platform collaboration.",
                        favicon: "https://www.lucidchart.com/favicon.ico",
                        image: "https://www.lucidchart.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "MindMeister",
                        url: "https://www.mindmeister.com/",
                        description: "MindMeister is an online mind mapping tool that lets you capture, develop and share ideas visually.",
                        favicon: "https://www.mindmeister.com/favicon.ico",
                        image: "https://www.mindmeister.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Miro",
                        url: "https://miro.com/",
                        description: "Miro is the online collaborative whiteboard platform.",
                        favicon: "https://miro.com/favicon.ico",
                        image: "https://miro.com/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Coggle",
                        url: "https://coggle.it/",
                        description: "Coggle is a collaborative mind-mapping tool that helps you make sense of complex things.",
                        favicon: "https://coggle.it/favicon.ico",
                        image: "https://coggle.it/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "DrawPile",
                        url: "https://drawpile.net/",
                        description: "Drawpile is a free software collaborative drawing program.",
                        favicon: "https://drawpile.net/favicon.ico",
                        image: "https://drawpile.net/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Krita",
                        url: "https://krita.org/",
                        description: "Krita is a professional FREE and open source painting program.",
                        favicon: "https://krita.org/wp-content/uploads/2016/11/cropped-favicon-32x32.png",
                        image: "https://krita.org/wp-content/uploads/2016/11/krita-hero.png",
                        type: "web"
                    },
                    {
                        title: "GIMP",
                        url: "https://www.gimp.org/",
                        description: "GIMP is a cross-platform image editor available for GNU/Linux, macOS, Windows and more.",
                        favicon: "https://www.gimp.org/images/favicon.ico",
                        image: "https://www.gimp.org/images/frontpage/wilber-big.png",
                        type: "web"
                    },
                    {
                        title: "Inkscape",
                        url: "https://inkscape.org/",
                        description: "Inkscape is professional quality vector graphics software.",
                        favicon: "https://inkscape.org/static/images/inkscape-favicon.png",
                        image: "https://inkscape.org/static/images/inkscape-og-image.png",
                        type: "web"
                    },
                    {
                        title: "Blender",
                        url: "https://www.blender.org/",
                        description: "Blender is the free and open source 3D creation suite.",
                        favicon: "https://www.blender.org/favicon.ico",
                        image: "https://www.blender.org/wp-content/uploads/2019/07/blender_logo.png",
                        type: "web"
                    },
                    {
                        title: "Unity",
                        url: "https://unity.com/",
                        description: "Unity is the world’s leading platform for creating and operating interactive, real-time 3D content.",
                        favicon: "https://unity.com/favicon.ico",
                        image: "https://unity.com/sites/default/files/styles/og_image/public/2021-03/unity-og-image.png",
                        type: "web"
                    },
                    {
                        title: "Unreal Engine",
                        url: "https://www.unrealengine.com/",
                        description: "Unreal Engine is the world’s most open and advanced real-time 3D creation tool.",
                        favicon: "https://www.unrealengine.com/favicon.ico",
                        image: "https://cdn2.unrealengine.com/Unreal+Engine%2Fblog%2Fblog-og-image-1920x1080-1920x1080-2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e2e.png",
                        type: "web"
                    },
                    {
                        title: "Godot Engine",
                        url: "https://godotengine.org/",
                        description: "Godot is a feature-packed, cross-platform game engine to create 2D and 3D games.",
                        favicon: "https://godotengine.org/themes/godotengine/assets/ico/favicon.ico",
                        image: "https://godotengine.org/themes/godotengine/assets/og_image.png",
                        type: "web"
                    },
                    {
                        title: "itch.io",
                        url: "https://itch.io/",
                        description: "itch.io is a simple way to find, download and distribute indie games online.",
                        favicon: "https://itch.io/favicon.ico",
                        image: "https://itch.io/static/images/itchio-textless-black.png",
                        type: "web"
                    },
                    {
                        title: "Steam",
                        url: "https://store.steampowered.com/",
                        description: "Steam is the ultimate destination for playing, discussing, and creating games.",
                        favicon: "https://store.steampowered.com/favicon.ico",
                        image: "https://store.steampowered.com/public/shared/images/header/globalheader_logo.png",
                        type: "web"
                    },
                    {
                        title: "Epic Games Store",
                        url: "https://www.epicgames.com/store/en-US/",
                        description: "Buy and download PC games, mods, DLC and add-ons.",
                        favicon: "https://static-assets-prod.epicgames.com/favicon.ico",
                        image: "https://static-assets-prod.epicgames.com/epic-og-image.png",
                        type: "web"
                    },
                    {
                        title: "GOG.com",
                        url: "https://www.gog.com/",
                        description: "GOG.com is a digital distribution platform with a curated selection of games.",
                        favicon: "https://www.gog.com/favicon.ico",
                        image: "https://www.gog.com/static/images/og-image.png",
                        type: "web"
                    },
                    {
                        title: "Twitch",
                        url: "https://www.twitch.tv/",
                        description: "Twitch is the world's leading live streaming platform for gamers and the things we love.",
                        favicon: "https://static.twitchcdn.net/assets/favicon-32-e29e246c157142c94346.png",
                        image: "https://static.twitchcdn.net/assets/og-image-1200x630.png",
                        type: "videos"
                    },
                    {
                        title: "Mixer (archived)",
                        url: "https://mixer.com/",
                        description: "Mixer was a live streaming platform for gamers.",
                        favicon: "https://mixer.com/favicon.ico",
                        image: "https://mixer.com/images/og-image.png",
                        type: "videos"
                    },
                    {
                        title: "Dailymotion",
                        url: "https://www.dailymotion.com/",
                        description: "Dailymotion is a video-sharing technology platform.",
                        favicon: "https://www.dailymotion.com/favicon.ico",
                        image: "https://www.dailymotion.com/images/og-image.png",
                        type: "videos"
                    },
                    {
                        title: "Vine (archived)",
                        url: "https://vine.co/",
                        description: "Vine was a short-form video hosting service.",
                        favicon: "https://vine.co/favicon.ico",
                        image: "https://vine.co/images/og-image.png",
                        type: "videos"
                    },
                    {
                        title: "TED",
                        url: "https://www.ted.com/",
                        description: "TED is a nonprofit devoted to spreading ideas, usually in the form of short, powerful talks.",
                        favicon: "https://www.ted.com/favicon.ico",
                        image: "https://pi.tedcdn.com/r/pe.tedcdn.com/images/ted/ted-og-image.png",
                        type: "videos"
                    },
                    {
                        title: "Coursera (Videos)",
                        url: "https://www.coursera.org/",
                        description: "Online courses from top universities, including video lectures.",
                        favicon: "https://d3njjcbhbojbot.cloudfront.net/web/images/favicons/favicon-v2.ico",
                        image: "https://d3njjcbhbojbot.cloudfront.net/web/images/favicons/coursera-og.png",
                        type: "videos"
                    },
                    {
                        title: "Khan Academy (Videos)",
                        url: "https://www.khanacademy.org/",
                        description: "Free online courses, lessons & practice with video lectures.",
                        favicon: "https://cdn.kastatic.org/images/favicon.ico",
                        image: "https://cdn.kastatic.org/images/ka-og-image.png",
                        type: "videos"
                    }
                ];

                // Helper: fetch Wikipedia search results
                async function fetchWikipedia(q) {
                    try {
                        // Get search results
                        const resp = await fetch(`https://en.wikipedia.org/w/api.php?origin=*&action=query&list=search&srsearch=${encodeURIComponent(q)}&utf8=&format=json`);
                        const data = await resp.json();
                        if (!data.query || !data.query.search) return [];
                        // Get pageids for image fetching
                        const pageids = data.query.search.map(item => item.pageid).filter(Boolean);
                        let imagesMap = {};
                        if (pageids.length) {
                            // Fetch page images (thumbnail)
                            const imgResp = await fetch(`https://en.wikipedia.org/w/api.php?origin=*&action=query&pageids=${pageids.join('|')}&prop=pageimages&format=json&pithumbsize=300`);
                            const imgData = await imgResp.json();
                            if (imgData.query && imgData.query.pages) {
                                for (const pid in imgData.query.pages) {
                                    const page = imgData.query.pages[pid];
                                    if (page.thumbnail && page.thumbnail.source) {
                                        imagesMap[pid] = page.thumbnail.source;
                                    }
                                }
                            }
                        }
                        return data.query.search.map(item => ({
                            title: item.title,
                            url: `https://en.wikipedia.org/?curid=${item.pageid}`,
                            description: item.snippet.replace(/<\/?[^>]+(>|$)/g, ""), // Remove HTML tags
                            favicon: "https://en.wikipedia.org/static/favicon/wikipedia.ico",
                            image: imagesMap[item.pageid] || "",
                            type: imagesMap[item.pageid] ? "images" : "web"
                        }));
                    } catch {
                        return [];
                    }
                }

                // Helper: fetch GitHub repositories
                async function fetchGitHub(q) {
                    try {
                        const resp = await fetch(`https://api.github.com/search/repositories?q=${encodeURIComponent(q)}&per_page=5`);
                        const data = await resp.json();
                        if (!data.items) return [];
                        return data.items.map(repo => ({
                            title: repo.full_name,
                            url: repo.html_url,
                            description: repo.description || "",
                            favicon: "https://github.githubassets.com/favicons/favicon.svg",
                            image: repo.owner && repo.owner.avatar_url ? repo.owner.avatar_url : "",
                            type: repo.owner && repo.owner.avatar_url ? "images" : "web"
                        }));
                    } catch {
                        return [];
                    }
                }
                // Helper: fetch YouTube videos (no API key, fallback to search page only, no video links)
                async function fetchYouTube(q) {
                    // No API key: just return a link to YouTube search page, do not fetch or scrape
                    return [{
                        title: `Search "${q}" on YouTube`,
                        url: `https://www.youtube.com/results?search_query=${encodeURIComponent(q)}`,
                        description: "Click to see YouTube search results for your query.",
                        favicon: "https://www.youtube.com/s/desktop/6e8e3e5d/img/favicon.ico",
                        image: "",
                        type: "videos"
                    }];
                }

                // Helper: fetch more results/pages/subdomains for a query (using DuckDuckGo Instant Answer API as example)
                async function fetchMoreResults(q) {
                    try {
                        const resp = await fetch(`https://api.duckduckgo.com/?q=${encodeURIComponent(q)}&format=json&no_redirect=1&no_html=1`);
                        const data = await resp.json();
                        let results = [];
                        if (data.RelatedTopics && Array.isArray(data.RelatedTopics)) {
                            for (const topic of data.RelatedTopics) {
                                if (topic.FirstURL && topic.Text) {
                                    results.push({
                                        title: topic.Text,
                                        url: topic.FirstURL,
                                        description: topic.Text,
                                        favicon: "https://duckduckgo.com/favicon.ico",
                                        image: topic.Icon && topic.Icon.URL ? `https://duckduckgo.com${topic.Icon.URL}` : "",
                                        type: "web"
                                    });
                                }
                                // Some topics have subtopics
                                if (topic.Topics && Array.isArray(topic.Topics)) {
                                    for (const sub of topic.Topics) {
                                        if (sub.FirstURL && sub.Text) {
                                            results.push({
                                                title: sub.Text,
                                                url: sub.FirstURL,
                                                description: sub.Text,
                                                favicon: "https://duckduckgo.com/favicon.ico",
                                                image: sub.Icon && sub.Icon.URL ? `https://duckduckgo.com${sub.Icon.URL}` : "",
                                                type: "web"
                                            });
                                        }
                                    }
                                }
                            }
                        }
                        return results;
                    } catch {
                        return [];
                    }
                }
                // Helper: fetch YouTube videos (no API key, so use search page as fallback)
                async function fetchYouTube(q) {
                    // No API key: fallback to YouTube search page links
                    return [{
                        title: `Search "${q}" on YouTube`,
                        url: `https://www.youtube.com/results?search_query=${encodeURIComponent(q)}`,
                        description: "Click to see YouTube search results for your query.",
                        favicon: "https://www.youtube.com/s/desktop/6e8e3e5d/img/favicon.ico",
                        image: "",
                        type: "videos"
                    }];
                }

                // Filter dataset by query and type
                let filtered = dataset.filter(item => {
                    const q = query ? query.toLowerCase() : "";
                    const matchesQuery =
                        !q ||
                        (item.title && item.title.toLowerCase().includes(q)) ||
                        (item.description && item.description.toLowerCase().includes(q));
                    const matchesType =
                        type === "all" ||
                        (type === "images" && item.type === "images") ||
                        (type === "videos" && item.type === "videos") ||
                        (type === "web" && item.type === "web");
                    return matchesQuery && matchesType;
                });

                // If not enough results, fetch from Wikipedia, GitHub, YouTube
                if (query && filtered.length < limit) {
                    const [wiki, gh, yt] = await Promise.all([
                        fetchWikipedia(query),
                        fetchGitHub(query),
                        (type === 'videos' || type === 'all') ? fetchYouTube(query) : Promise.resolve([])
                    ]);
                    let extraResults = [...wiki, ...gh, ...yt];
                    // Remove duplicates by URL
                    const urls = new Set(filtered.map(r => r.url));
                    extraResults = extraResults.filter(r => !urls.has(r.url));
                    filtered = filtered.concat(extraResults);
                }

                // For images tab: try to extract images from web results if missing
                if (type === 'images') {
                    // Add images from all sources if they have a valid image
                    let imagesResults = [];
                    for (const item of filtered) {
                        let imageUrl = item.image && item.image.length > 8 ? item.image : '';
                        // If no image, try to fetch Open Graph image (best effort, CORS may block)
                        if (!imageUrl && item.url) {
                            try {
                                const resp = await fetch("https://api.microlink.io/?url=" + encodeURIComponent(item.url));
                                const data = await resp.json();
                                if (data.status === "success" && data.data) {
                                    if (data.data.image && data.data.image.url) {
                                        imageUrl = data.data.image.url;
                                    } else if (data.data.logo && data.data.logo.url) {
                                        imageUrl = data.data.logo.url;
                                    }
                                }
                            } catch {}
                        }
                        // If still no image, use favicon as a fallback
                        if (!imageUrl && item.favicon) {
                            imageUrl = item.favicon;
                        }
                        if (imageUrl) {
                            imagesResults.push({ ...item, image: imageUrl, type: "images" });
                        }
                    }
                    filtered = imagesResults;
                }

                const totalResults = filtered.length;
                const totalPages = Math.max(1, Math.ceil(totalResults / limit));
                const start = (page - 1) * limit;
                const results = filtered.slice(start, start + limit);

                return {
                    results,
                    totalResults,
                    totalPages,
                    page
                };
            }
        };
    </script>
</body>
</html>
